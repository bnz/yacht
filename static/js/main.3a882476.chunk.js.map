{"version":3,"sources":["serviceWorker.ts","redux/reducers/gamePhase.tsx","redux/reducers/players.tsx","redux/reducers/dices.tsx","redux/reducers/dicesSelected.tsx","redux/reducers/loading.tsx","helpers/getItem.tsx","redux/combiners/simpleCombiner.tsx","redux/reducers/diceSize.tsx","helpers/isMobile.tsx","redux/reducers/language.tsx","redux/reducers/combinations.tsx","helpers/i18n/i18n.tsx","helpers/i18n/rus.tsx","helpers/i18n/eng.tsx","redux/reducers/playerMove.tsx","redux/reducers/tableSize.tsx","redux/reducers/drawerOpened.tsx","redux/reducers/playerPoints.tsx","helpers/calcBonus.tsx","redux/reducers/activeTab.tsx","redux/reducers/history.tsx","redux/reducers/historyFollowActivePlayer.tsx","redux/reducers/activeFirst.tsx","redux/getStateFromStorage.tsx","redux/defaultState.tsx","helpers/toString.tsx","helpers/setItem.tsx","redux/createStore.tsx","redux/subscriptions.tsx","helpers/themeProviderHOC.tsx","helpers/cwp.tsx","components/MainLayout/MainLayoutParts.tsx","helpers/replaceKeysInObject.tsx","helpers/getType.tsx","helpers/conditionalCSS.tsx","helpers/css.tsx","components/TopMenu/Heading.tsx","components/TopMenu/AppBarStyled.tsx","redux/pureSelectors/drawerOpened.tsx","redux/selectors/makeDrawerOpenedSelector.tsx","components/TopMenu/MenuButton.tsx","components/TopMenu/TopMenu.tsx","components/MainLayout/MainLayoutConnected.tsx","components/MainLayout/useGlobalStyles.tsx","components/Drawer/DrawerStyled.tsx","components/Drawer/Tabs/TabsStyled.tsx","components/Drawer/Tabs/TabStyled.tsx","components/Drawer/Tabs/Tabs.tsx","components/Drawer/TabsContent/SettingsTabContent/ListParts/ListItemStyled.tsx","components/Drawer/TabsContent/SettingsTabContent/ListParts/ListItem.tsx","components/Drawer/TabsContent/SettingsTabContent/ThemeToggler/ThemeToggler.tsx","components/Drawer/TabsContent/SettingsTabContent/ListParts/ListDivider.tsx","components/Drawer/TabsContent/SettingsTabContent/DiceSizeChanger/ButtonGroup.tsx","redux/pureSelectors/language.tsx","redux/actions/changeLanguageThunk.tsx","helpers/useDispatchedCallback.tsx","components/Drawer/TabsContent/SettingsTabContent/LangChangeButtons/LangChangeButtons.tsx","redux/selectors/makeLanguageSelector.tsx","redux/pureSelectors/diceSize.tsx","components/Drawer/TabsContent/SettingsTabContent/DiceSizeChanger/DiceSizeChanger.tsx","redux/selectors/makeDiceSizeSelector.tsx","helpers/visibilityHOC.tsx","redux/pureSelectors/gamePhase.tsx","redux/selectors/makeGamePhaseSelector.tsx","helpers/notInPlayVisibilityHOC.tsx","components/Drawer/TabsContent/SettingsTabContent/RestartGameButton/DialogContentStyled.tsx","components/Drawer/TabsContent/SettingsTabContent/RestartGameButton/WarningIconStyled.tsx","components/Drawer/TabsContent/SettingsTabContent/RestartGameButton/ReplayIconStyled.tsx","redux/actions/restartGameThunk.tsx","redux/pureSelectors/tableSize.tsx","redux/selectors/makeTableSizeSelector.tsx","components/Drawer/TabsContent/SettingsTabContent/ChangeTableSizeButton/CheckboxAsIcon.tsx","components/Drawer/TabsContent/SettingsTabContent/ActiveFirstButton/CheckboxAsIcon.tsx","redux/combiners/reorderPlayersByIdCombiner.tsx","redux/pureSelectors/players.tsx","redux/pureSelectors/playerMove.tsx","redux/selectors/makePlayersSelector.tsx","components/Drawer/TabsContent/SettingsTabContent/ActiveFirstButton/ActiveFirstButton.tsx","components/Drawer/TabsContent/SettingsTabContent/SettingsTabContent.tsx","components/Drawer/TabsContent/SettingsTabContent/RestartGameButton/RestartGameButton.tsx","components/Drawer/TabsContent/SettingsTabContent/ChangeTableSizeButton/ChangeTableSizeButton.tsx","components/Drawer/Tabs/TabContent.tsx","components/Drawer/Tabs/TabsContainerInner.tsx","components/Drawer/Tabs/TabsContainer.tsx","components/Drawer/TabsContent/HistoryTabContent/FollowActivePlayerCheckbox.tsx","components/Drawer/TabsContent/HistoryTabContent/SelectWrapperStyled.tsx","components/Drawer/TabsContent/HistoryTabContent/HistoryTabContentHeader.tsx","helpers/cropStringBy.tsx","components/Drawer/TabsContent/HistoryTabContent/GridContainer.tsx","components/Drawer/TabsContent/HistoryTabContent/GridItem.tsx","components/Dices/Dice/DiceInner.tsx","components/Dices/Dice/DiceDot.tsx","components/Dices/Dice/DiceWrapper.tsx","components/Dices/Dice/Dice.tsx","components/Drawer/TabsContent/HistoryTabContent/HistoryItemPopover.tsx","components/Drawer/TabsContent/HistoryTabContent/HistoryItem.tsx","helpers/historyCombinationText.tsx","components/Drawer/TabsContent/HistoryTabContent/NoHistoryYetStyled.tsx","components/Drawer/TabsContent/HistoryTabContent/HistoryTabContentData.tsx","redux/selectors/makePlayerMoveSelector.tsx","components/Drawer/TabsContent/HistoryTabContent/HistoryTabContent.tsx","components/Drawer/Drawer.tsx","components/MainLayout/MainLayout.tsx","components/StartGameButton/StartGameButton.tsx","components/PlayersSelection/Buttons/ButtonsWrapper.tsx","components/PlayersSelection/Buttons/CancelStartGameButtonConnected.tsx","redux/actions/nextTurnThunk.tsx","components/PlayersSelection/Buttons/StartGameButtonConnected.tsx","components/PlayersSelection/PlayersList/PlayersListPaper.tsx","components/PlayersSelection/PlayersList/PlayersListConnected.tsx","components/PlayersSelection/PlayersList/PlayersList.tsx","components/PlayersSelection/AddPlayer/DialogContentStyled.tsx","components/PlayersSelection/AddPlayer/AddPlayerConnected.tsx","helpers/makeId.tsx","components/PlayersSelection/AddPlayer/AddPlayer.tsx","components/PlayersSelection/Buttons/ResetToDefaultPlayersButtonConnected.tsx","components/PlayersSelection/PlayersSelection.tsx","components/Dices/DicesWrapper/DicesWrapper.tsx","components/Dices/DicesConnected.tsx","components/Dices/Dices.tsx","components/DicesActions/ResetDicesButton/ResetDicesButtonStyled.tsx","components/DicesActions/ResetDicesButton/ResetDicesButtonConnected.tsx","components/DicesActions/ResetDicesButton/ResetDicesButton.tsx","components/DicesActions/DicesActionsWrapper.tsx","components/DicesActions/RollDiceButton/RollDiceButtonStyled.tsx","components/DicesActions/RollDiceButton/CasinoIconStyled.tsx","components/DicesActions/RollDiceButton/RollDiceButtonTip.tsx","helpers/random.tsx","redux/actions/generateRandomDicesThunk.tsx","redux/actions/addToHistoryThunk.tsx","components/DicesActions/RollDiceButton/RollDiceButton.tsx","components/DicesActions/DicesActions.tsx","components/Rules/Heading.tsx","components/Rules/Paragraph.tsx","components/Rules/TableCellNoWrap.tsx","components/Rules/Rules.tsx","components/StartGameButton/StartGameButtonWrapper.tsx","components/CombinationsContainer/TablePartsStyled/TableCellStyled.tsx","helpers/checkMatch.tsx","helpers/uniq.tsx","components/CombinationsContainer/Combination/CellContent/Empty.tsx","components/CombinationsContainer/Combination/CellContent/Button.tsx","components/CombinationsContainer/Combination/CellContent/Matched.tsx","components/CombinationsContainer/Combination/CellContent/Bonus.tsx","helpers/renderPoints.tsx","helpers/inArray.tsx","helpers/defineWorkEnding.tsx","components/CombinationsContainer/Combination/CombinationConnected.tsx","redux/actions/saveCombinationThunk.tsx","redux/actions/saveResultToHistoryThunk.tsx","components/CombinationsContainer/Combination/Combination.tsx","helpers/renderBonus.tsx","components/CombinationsContainer/TablePartsStyled/Table.tsx","components/CombinationsContainer/TableHeader.tsx","redux/combiners/calcTotalsCombiner.tsx","redux/pureSelectors/playerPoints.tsx","redux/selectors/makeGetTotalsSelector.tsx","components/CombinationsContainer/TableFooter.tsx","redux/combiners/isMoveAvailableCombiner.tsx","components/CombinationsContainer/CombinationsContainer.tsx","redux/selectors/makeIsMoveAvailableSelector.tsx","components/EndOfGame/parts/DialogStyled.tsx","components/EndOfGame/parts/DialogContentStyled.tsx","components/EndOfGame/parts/DialogTitleStyled.tsx","components/EndOfGame/parts/DialogActionsStyled.tsx","components/EndOfGame/parts/DialogContentColumn.tsx","components/EndOfGame/parts/DialogContentNameRow.tsx","components/EndOfGame/parts/DialogContentTotalRow.tsx","components/EndOfGame/EndOfGameStats.tsx","components/EndOfGame/parts/GoHomeButton.tsx","components/EndOfGame/parts/DialogTipStyled.tsx","redux/combiners/isEndOfGameCombiner.tsx","components/EndOfGame/EndOfGameContainer.tsx","components/EndOfGame/EndOfGame.tsx","redux/selectors/makeIsEndOfGameSelector.tsx","components/App/App.tsx","index.tsx","components/MainLayout/myTheme.tsx"],"names":["Boolean","window","location","hostname","match","GamePhases","Constants","gamePhaseDefaultState","gamePhase","PRE_GAME","changeGamePhase","type","CHANGE_GAME_PHASE","entry","playersDefaultState","id","name","dicesDefaultState","resetDices","RESET_DICES","dicesSelector","dices","dicesSelectedDefaultState","unselectAllDices","UNSELECT_ALL_DICES","getItem","key","parse","item","localStorage","JSON","getBooleanItem","fallback","simpleCombiner","p","setLoading","flag","SET_LOADING","loadingSelector","loading","isMobile","test","navigator","userAgent","substr","diceSizeDefaultState","Combination","lang","languagesMap","rus","yacht","darkTheme","language","compactTable","activePlayerFirst","diceSize","playerNo","currentGameWillBeLost","combinations","total","gameOver","maximumPossibleNumberOfPoints","ofMax","more","points1","points2","points3","points4","eng","i18n","res","undefined","isBonus","combination","BONUS","combinationsDefaultState","title","ONE","max","TWO","THREE","FOUR","FIVE","SIX","EQUAL_3","EQUAL_4","SMALL_STRAIGHT","BIG_STRAIGHT","TWO_PAIR","FULL_HOUSE","THE_YACHT","CHANCE","MAX_POSSIBLE_POINTS","reduce","prev","curr","combinationsSelector","TableSizes","playerMoveDefaultState","tableSizeDefaultState","SMALL","calcBonus","state","playerId","bonus","Object","keys","isNaN","parseInt","ActiveTab","playerPointsDefaultState","activeTabDefaultState","SETTINGS","changeActiveTab","tab","CHANGE_ACTIVE_TAB","activeTabSelector","activeTab","makeActiveTabSelector","createSelector","historyDefaultState","addToHistory","history","ADD_TO_HISTORY","historySelector","historyFollowActivePlayerSelector","historyFollowActivePlayer","makeHistoryFollowActivePlayerSelector","toggleHistoryFollowActivePlayerThunk","dispatch","getState","TOGGLE_HISTORY_FOLLOW_ACTIVE_PLAYER","drawerOpened","activeFirst","activeFirstDefaultState","toggleActiveFirstThunk","TOGGLE_ACTIVE_FIRST","activeFirstSelector","players","dicesSelected","playerMove","tableSize","playerPoints","e","console","error","defaultState","toString","obj","stringify","toJSON","setItem","value","middleware","thunk","reducers","combineReducers","ADD_PLAYER","update","$push","REMOVE_PLAYER","$splice","findIndex","RESET_PLAYERS","GENERATE_RANDOM_DICES","SELECT_DICE","diceIndex","index","indexOf","length","INCREASE_DICE_SIZE","DECREASE_DICE_SIZE","INCREASE_SHOT","shot","NEXT_TURN","RESET_PLAYER_MOVE","TOGGLE_TABLE_SIZE","TOGGLE_DRAWER_OPENED","SAVE_COMBINATION","points","$merge","$set","RESET_PLAYER_POINTS","CHANGE_LANGUAGE","RESET_HISTORY","enhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","store","createStore","subscribe","subscriptions","Component","ThemeContext","createContext","cwp","propsToExclude","restProps","rest","forEach","Wrapper","styled","theme","spacing","transitions","create","easing","duration","drawerWidth","footerHeight","mainLayout","drawer","minHeight","marginBottom","marginLeft","transition","sharp","enteringScreen","Push","height","Footer","down","breakpoints","innerPadding","innerPaddingMobile","display","alignItems","padding","justifyContent","Inner","toolbar","mixins","replaceKeysInObject","what","withWhat","modifyValue","resObject","map","call","getType","maxWidth","paddingLeft","paddingRight","conditionalCSS","params","returnObject","param","Array","isArray","condition","css","altCss","iU","stretch","top","right","bottom","left","position","align","vertical","horizontal","cropString","overflow","textOverflow","whiteSpace","Heading","props","Typography","variant","component","palette","darkBackgroundColor","color","AppBarStyled","AppBar","zIndex","makeDrawerOpenedSelector","drawerOpenedSelector","MenuButtonStyled","className","useSelector","useDispatch","onClick","useCallback","IconButton","edge","fontSize","common","black","white","marginRight","TopMenu","Toolbar","drawerOpenedConnector","connect","_","children","LayoutWrapper","LayoutFooter","useGlobalStyles","makeStyles","grey","paper","background","margin","boxSizing","backgroundColor","useStyles","createStyles","drawerHeader","drawerContent","overflowY","flex","flexDirection","width","overflowX","paperClose","borderRight","drawerOpen","drawerClose","leavingScreen","DrawerStyled","open","cx","classes","TabsStyled","Tabs","divider","borderBottom","TabStyled","icon","Tab","label","Tooltip","placement","drawerTabsCount","minWidth","useTabIndicatorProps","useTheme","useMemo","style","ListItemStyled","ListItem","button","ListItemIcon","ListItemText","primary","ThemeToggler","Consumer","toggleTheme","Switch","checked","ListDivider","Divider","marginTop","ButtonGroup","size","def","default","changeLanguageThunk","changeLanguage","useDispatchedCallback","actions","languageSelector","LangChangeButtons","Button","disabled","diceSizeSelector","visibilityHOC","hidden","visibilityHOC_2","WrappedComponent","makeGamePhaseSelector","notInPlayVisibilityHOC","gamePhaseSelector","ComponentWithHOC","IN_PLAY","DialogContentStyled","DialogContent","WarningIconStyled","WarningIcon","yellow","A700","ReplayIconStyled","ReplayIcon","restartGameThunk","makeTableSizeSelector","tableSizeSelector","CheckboxAsIcon","Checkbox","reorderPlayersByIdCombiner","activeIndex","beforeArr","slice","arr","concat","makePlayersSelector","playersSelector","RestartGame","useState","setOpen","openModal","closeModal","restartGame","Dialog","onClose","DialogTitle","DialogActions","ChangeTableSize","MEDIUM","DiceSizeChanger","increase","decrease","ActiveFirst","SettingsTabContent","List","TabContent","TabsContainerInner","standard","transitionDuration","TabsContainer","FollowActivePlayerCheckbox","onChange","SelectWrapperStyled","Grid","justify","wrap","container","HistoryTabContentHeader","setPlayerId","handleChange","target","FormControl","InputLabel","Select","str","newStringLength","MenuItem","substring","GridContainer","hover","action","cursor","GridItem","light","dark","success","strikeOut","altColor","altAlign","active","textDecoration","textAlign","DiceInner","roll","selected","text","flexWrap","borderRadius","$delay","transform","boxShadow","DiceDot","filled","$wrapWidth","transitionProperty","DiceWrapper","flexGrow","dots","1","2","3","4","5","6","array9","Dice","i","popoverProps","anchorOrigin","transformOrigin","HistoryItemPopover","anchorEl","tries","Popover","items","HistoryItem","result","setAnchorEl","handleClick","currentTarget","handleClose","triesLeft","xs","replace","historyCombinationText","NoHistoryYetStyled","HistoryTabContentData","playerHistory","makePlayerMoveSelector","playerMoveSelector","TabIndicatorProps","HistoryTab","activePlayerId","useEffect","Drawer","MainLayout","CssBaseline","StartGameButton","PLAYERS_SELECTION","ButtonsWrapper","CancelStartGameButtonConnected","startIcon","nextTurnThunk","move","player","StartGameButtonConnected","PlayersListPaper","Paper","PlayersListConnected","removePlayer","ListItemAvatar","Avatar","ListItemSecondaryAction","paddingTop","paddingBottom","AddPlayerConnected","addPlayer","c","r","Math","random","setDisabled","inputValue","setInputValue","onSubmit","preventDefault","trim","Input","fullWidth","autoFocus","ResetToDefaultPlayersButtonConnected","resetPlayers","equal","PlayersSelection","DicesWrapper","DicesConnected","selectDice","dice","ResetDicesButtonStyled","Fab","ResetDicesButtonConnected","DicesActionsWrapper","RollDiceButtonStyled","CasinoIconStyled","CasinoIcon","RollDiceButtonTip","textTransform","red","A100","fontWeight","rand","min","floor","generateRandomDicesThunk","randDices","generateRandomDices","stateDices","lastElementIndex","delay","timer","RollDiceButton","shuffle","Date","now","clearTimeout","onMouseUp","d","setTimeout","onMouseDown","DicesActions","Paragraph","paragraph","TableCellNoWrap","TableCell","Rules","Table","TableBody","TableRow","StartGameButtonWrapper","TableCellStyled","heading","noPadding","centered","firstColumn","empty","large","combinationsTable","firstColumnWidth","columnWidth","activeColor","borderLeft","borderTopRightRadius","borderTopLeftRadius","resultsMap","maxPoints","checkMatch","combinationType","a","sequence","values","sort","seq","Set","seqString","matches","filter","count","split","counts","x","number","successResult","seqCopy","shift","pop","b","sorted","Empty","content","Matched","Bonus","alt","fontStyle","Tip","inArray","defineWorkEnding","n","calculated","calc","CombinationConnected","existingCombination","saveCombinationThunk","saveCombination","saveResultToHistoryThunk","isMoveAvailable","_isBonus","matched","matching","strike","save","renderPoints","isNegative","sign","renderBonus","AsDiv","MaterialTable","TableHead","MaterialTableHead","MaterialTableBody","TableFooter","MaterialTableFooter","borderTop","lineHeight","MaterialTableRow","TableHeader","calcTotalsCombiner","totals","makeGetTotalsSelector","getTotalsSelector","isMoveAvailableCombiner","matchesCount","noMoves","isInPlayerPoints","isMoveAvailableSelector","CombinationsContainer","enterDelay","disableFocusListener","border","root","DialogStyled","DialogTitleStyled","shape","hint","DialogActionsStyled","DialogContentColumn","DialogContentNameRow","h6","typography","DialogContentTotalRow","h2","EndOfGameStats","GoHomeButton","DialogTipStyled","subtitle2","borderBottomLeftRadius","borderBottomRightRadius","isEndOfGameCombiner","EndOfGameWithHOC","isEndOfGameSelector","EndOfGameContainer","AppWithProvider","setTheme","newPaletteType","document","body","memoizedTheme","createMuiTheme","overrides","MuiAppBar","colorPrimary","myTheme","Provider","ThemeProvider","render","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.3a882476.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { Reducer } from 'redux'\nimport { ActionWithEntry } from '../../helpers/types'\n\nexport enum GamePhases {\n  PRE_GAME = 'preGame',\n  PLAYERS_SELECTION = 'playersSelection',\n  IN_PLAY = 'inPlay',\n}\n\nexport interface GamePhaseState {\n  gamePhase: GamePhases\n}\n\nexport const gamePhaseDefaultState: GamePhaseState = {\n  gamePhase: GamePhases.PRE_GAME,\n}\n\nenum Constants {\n  CHANGE_GAME_PHASE = 'CHANGE_GAME_PHASE',\n}\n\ninterface Entry {\n  gamePhase: GamePhases\n}\n\ntype GamePhaseActionReturn = ActionWithEntry<Constants, Entry>\n\nexport type ChangeGamePhase = (gamePhase: Entry['gamePhase']) => GamePhaseActionReturn\n\nexport const changeGamePhase: ChangeGamePhase = (gamePhase) => ({\n  type: Constants.CHANGE_GAME_PHASE,\n  entry: {\n    gamePhase,\n  },\n})\n\nexport const gamePhase: Reducer<GamePhases, GamePhaseActionReturn> = (state = gamePhaseDefaultState.gamePhase, { type, entry }) => {\n  switch (type) {\n    case Constants.CHANGE_GAME_PHASE: {\n      return entry.gamePhase\n    }\n    default:\n      return state\n  }\n}\n","import { makeId } from '../../helpers/makeId'\nimport { ActionWithEntry } from '../../helpers/types'\nimport { Action, Reducer } from 'redux'\nimport update from 'immutability-helper'\n\nexport interface Player {\n  id: string\n  name?: string\n}\n\nexport interface PlayersState {\n  players: Player[]\n}\n\nexport type PlayersTotals = {\n  [playerId: string]: number\n}\n\nexport const playersDefaultState: Player[] = [\n  {\n    id: '1d777e55-8009-45e7-81b6-2651ad80399c',\n    name: 'Numéro un',\n  },\n]\n\nenum Constants {\n  ADD_PLAYER = 'ADD_PLAYER',\n  REMOVE_PLAYER = 'REMOVE_PLAYER',\n  RESET_PLAYERS = 'RESET_PLAYERS',\n}\n\ntype PlayersActionReturn = ActionWithEntry<Constants, Player>\n\nexport type AddPlayer = (name: Player['name']) => PlayersActionReturn\n\nexport const addPlayer: AddPlayer = (name) => ({\n  type: Constants.ADD_PLAYER,\n  entry: {\n    id: makeId(),\n    name,\n  },\n})\n\nexport type RemovePlayer = (id: Player['id']) => PlayersActionReturn\n\nexport const removePlayer: RemovePlayer = (id) => ({\n  type: Constants.REMOVE_PLAYER,\n  entry: {\n    id,\n  },\n})\n\nexport const resetPlayers = (): Action => ({\n  type: Constants.RESET_PLAYERS,\n})\n\nexport const players: Reducer<Player[], PlayersActionReturn> = (state = playersDefaultState, { type, entry }) => {\n  switch (type) {\n    case Constants.ADD_PLAYER: {\n      return update(state, {\n        $push: [entry],\n      })\n    }\n    case Constants.REMOVE_PLAYER:\n      return update(state, {\n        $splice: [[state.findIndex(({ id }) => id === entry.id), 1]],\n      })\n    case Constants.RESET_PLAYERS:\n      return playersDefaultState\n    default:\n      return state\n  }\n}\n","import { Reducer } from 'redux'\nimport { ActionWithEntry, Selector } from '../../helpers/types'\n\nexport type Dices = number[]\n\nexport interface DicesState {\n  dices: Dices\n}\n\nexport const DICES_COUNT = 5\n\nenum Constants {\n  GENERATE_RANDOM_DICES = 'GENERATE_RANDOM_DICES',\n  RESET_DICES = 'RESET_DICES',\n}\n\ntype DicesActionReturn = ActionWithEntry<Constants, Dices>\n\nexport const dicesDefaultState: Dices = [-1, -1, -1, -1, -1]\n\ntype GenerateRandomDices = (dices: Dices) => DicesActionReturn\n\nexport const generateRandomDices: GenerateRandomDices = (dices) => ({\n  type: Constants.GENERATE_RANDOM_DICES,\n  entry: dices,\n})\n\ntype ResetDices = () => DicesActionReturn\n\nexport const resetDices: ResetDices = () => ({\n  type: Constants.RESET_DICES,\n  entry: [],\n})\n\nexport const dicesSelector: Selector<Dices> = ({ dices }) => dices\n\nexport const dices: Reducer<Dices, DicesActionReturn> = (\n  state = dicesDefaultState,\n  { type, entry },\n) => {\n  switch (type) {\n    case Constants.GENERATE_RANDOM_DICES:\n      return [...entry]\n    case Constants.RESET_DICES:\n      return [...dicesDefaultState]\n    default:\n      return state\n  }\n}\n","import { Dices } from './dices'\nimport { ActionWithEntry } from '../../helpers/types'\nimport { Action, Reducer } from 'redux'\nimport update from 'immutability-helper'\n\nexport interface DicesSelectedState {\n  dicesSelected: Dices\n}\n\nenum Constants {\n  SELECT_DICE = 'SELECT_DICE',\n  UNSELECT_ALL_DICES = 'UNSELECT_ALL_DICES',\n}\n\ntype DicesSelectedActionReturn = ActionWithEntry<Constants, Dices>\n\nexport const dicesSelectedDefaultState: Dices = []\n\nexport type SelectDice = (diceIndex: number) => DicesSelectedActionReturn\n\nexport const selectDice: SelectDice = (diceIndex) => ({\n  type: Constants.SELECT_DICE,\n  entry: [diceIndex],\n})\n\nexport type UnselectAllDices = () => Action\n\nexport const unselectAllDices: UnselectAllDices = () => ({\n  type: Constants.UNSELECT_ALL_DICES,\n})\n\nexport const dicesSelected: Reducer<Dices, DicesSelectedActionReturn> = (state = dicesSelectedDefaultState, { type, entry }) => {\n  switch (type) {\n    case Constants.SELECT_DICE: {\n      const diceIndex = entry[0]\n      const index = state.indexOf(diceIndex)\n      if (index !== -1) {\n        return update(state, { $splice: [[index, 1]] })\n      }\n      return state.length === 4 ? state : update(state, { $push: [diceIndex] })\n    }\n    case Constants.UNSELECT_ALL_DICES:\n      return [...dicesSelectedDefaultState]\n    default:\n      return state\n  }\n}\n","import { ActionWithEntry, Selector } from '../../helpers/types'\nimport { Reducer } from 'redux'\nimport { createSelector } from 'reselect'\nimport { simpleCombiner } from '../combiners/simpleCombiner'\n\ntype Loading = boolean\n\nexport interface LoadingState {\n  loading: Loading\n}\n\nenum Constants {\n  SET_LOADING = 'SET_LOADING',\n}\n\ntype LoadingActionReturn = ActionWithEntry<Constants, Loading>\n\nexport const loadingDefaultState: Loading = false\n\nexport type SetLoading = (flag: Loading) => LoadingActionReturn\n\nexport const setLoading: SetLoading = (flag) => ({\n  type: Constants.SET_LOADING,\n  entry: flag\n})\n\nexport const loadingSelector: Selector<Loading> = ({ loading }) => loading\n\nexport const makeLoadingSelector = () => createSelector(loadingSelector, simpleCombiner)\n\nexport const loading: Reducer<Loading, LoadingActionReturn> = (state = loadingDefaultState, { type, entry }) => {\n  switch (type) {\n    case Constants.SET_LOADING: {\n      return entry\n    }\n    default:\n      return state\n  }\n}\n","import { State } from '../redux/defaultState'\n\n/**\n * Get item from localStorage\n */\nexport const getItem = (key: keyof State | 'theme', parse = true) => {\n  const item = localStorage.getItem(key)\n\n  return parse ? JSON.parse(item!) : item\n}\n\nexport const getBooleanItem = (key: keyof State | 'theme', fallback: boolean): boolean => {\n  let tmp: boolean | null\n\n  tmp = getItem(key)\n\n  return tmp !== null ? getItem(key) : fallback\n}\n","import { SimpleCombiner } from '../../helpers/types'\n\nexport const simpleCombiner: SimpleCombiner = (p) => p\n","import { ActionWithEntry, ThunkAction } from '../../helpers/types'\nimport { Reducer } from 'redux'\nimport { isMobile } from '../../helpers/isMobile'\n\nexport type DiceSize = 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9\n\nconst increaseDecreaseStep = 1\nexport const minDiceSize: DiceSize = 1\nexport const maxDiceSize: DiceSize = 9\n\nexport interface DiceSizeState {\n  diceSize: DiceSize\n}\n\nenum Constants {\n  INCREASE_DICE_SIZE = 'INCREASE_DICE_SIZE',\n  DECREASE_DICE_SIZE = 'DECREASE_DICE_SIZE'\n}\n\ntype DiceSizeReturn = ActionWithEntry<Constants, DiceSize>\n\nlet initial: DiceSize = isMobile ? 3 : 5\n\nexport const diceSizeDefaultState: DiceSize = initial\n\nexport type DiceSizeThunk = ThunkAction\n\nexport const increaseDiceSize: DiceSizeThunk = () => (dispatch, getState) => {\n  const { diceSize } = getState()\n  if (diceSize < maxDiceSize) {\n    dispatch<DiceSizeReturn>({\n      type: Constants.INCREASE_DICE_SIZE,\n      entry: (diceSize + increaseDecreaseStep as DiceSize),\n    })\n  }\n}\n\nexport const decreaseDiceSize: DiceSizeThunk = () => (dispatch, getState) => {\n  const { diceSize } = getState()\n  if (diceSize > minDiceSize) {\n    dispatch<DiceSizeReturn>({\n      type: Constants.DECREASE_DICE_SIZE,\n      entry: (diceSize - increaseDecreaseStep as DiceSize),\n    })\n  }\n}\n\nexport const diceSize: Reducer<DiceSize, DiceSizeReturn> = (state = diceSizeDefaultState, { type, entry }) => {\n  switch (type) {\n    case Constants.INCREASE_DICE_SIZE:\n    case Constants.DECREASE_DICE_SIZE:\n      return entry\n    default:\n      return state\n  }\n}\n","// eslint-disable-next-line no-useless-escape\nexport const isMobile = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)\n    // eslint-disable-next-line no-useless-escape\n    || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(navigator.userAgent.substr(0, 4))\n","import { Reducer } from 'redux'\nimport { ActionWithEntry } from '../../helpers/types'\n\nexport type Language = 'rus' | 'eng'\n\nexport interface LanguageState {\n  language: Language\n}\n\nenum Constants {\n  CHANGE_LANGUAGE = 'CHANGE_LANGUAGE'\n}\n\ntype LanguageActionReturn = ActionWithEntry<Constants, Language>\n\nexport const languageDefaultState: Language = 'rus'\n\ntype ChangeLanguage = (lang: Language) => LanguageActionReturn\n\nexport const changeLanguage: ChangeLanguage = (lang) => ({\n  type: Constants.CHANGE_LANGUAGE,\n  entry: lang,\n})\n\nexport const language: Reducer<Language, LanguageActionReturn> = (state = languageDefaultState, { type, entry }) => {\n  switch (type) {\n    case Constants.CHANGE_LANGUAGE: {\n      return entry\n    }\n    default:\n      return state\n  }\n}\n","import { Reducer } from 'redux'\nimport { ActionWithEntry, Selector } from '../../helpers/types'\nimport { DICES_COUNT } from './dices'\nimport { i18n } from '../../helpers/i18n/i18n'\nimport { createSelector } from 'reselect'\nimport { simpleCombiner } from '../combiners/simpleCombiner'\n\nexport enum Combination {\n  ONE = 1,\n  TWO,\n  THREE,\n  FOUR,\n  FIVE,\n  SIX,\n  BONUS = 'bonus',\n  SMALL_STRAIGHT = 'smallStraight',\n  BIG_STRAIGHT = 'bigStraight',\n  TWO_PAIR = 'twoPair',\n  FULL_HOUSE = 'fullHouse',\n  THE_YACHT = 'theYacht',\n  CHANCE = 'chance',\n  EQUAL_3 = 'equal_3',\n  EQUAL_4 = 'equal_4',\n}\n\nexport type EMPTY_CELL = '—'\n\nexport const EMPTY_CELL: EMPTY_CELL = '—'\n\nexport const BONUS_CONDITION = 63\n\nexport const BONUS_POINTS = 35\n\nexport const isBonus = (combination: Combination) => combination === Combination.BONUS\n\nexport interface CombinationInfo {\n  name: string\n  title: string\n  combination: Combination\n  max: number\n}\n\nexport interface CombinationsState {\n  combinations: CombinationInfo[]\n}\n\ntype CombinationsReturn = ActionWithEntry<{}, CombinationInfo[]>\n\nexport const combinationsDefaultState: CombinationInfo[] = [\n  {\n    name: i18n('combination.1'),\n    title: i18n('combination.1.title'),\n    combination: Combination.ONE,\n    max: Combination.ONE * DICES_COUNT,\n  },\n  {\n    name: i18n('combination.2'),\n    title: i18n('combination.2.title'),\n    combination: Combination.TWO,\n    max: Combination.TWO * DICES_COUNT,\n  },\n  {\n    name: i18n('combination.3'),\n    title: i18n('combination.3.title'),\n    combination: Combination.THREE,\n    max: Combination.THREE * DICES_COUNT,\n  },\n  {\n    name: i18n('combination.4'),\n    title: i18n('combination.4.title'),\n    combination: Combination.FOUR,\n    max: Combination.FOUR * DICES_COUNT,\n  },\n  {\n    name: i18n('combination.5'),\n    title: i18n('combination.5.title'),\n    combination: Combination.FIVE,\n    max: Combination.FIVE * DICES_COUNT,\n  },\n  {\n    name: i18n('combination.6'),\n    title: i18n('combination.6.title'),\n    combination: Combination.SIX,\n    max: Combination.SIX * DICES_COUNT,\n  },\n  {\n    name: i18n('combination.bonus'),\n    title: i18n('combination.bonus.title'),\n    combination: Combination.BONUS,\n    max: BONUS_POINTS,\n  },\n  {\n    name: i18n('combination.threeOfAKind'),\n    title: i18n('combination.threeOfAKind.title'),\n    combination: Combination.EQUAL_3,\n    max: Combination.SIX * 3,\n  },\n  {\n    name: i18n('combination.equal_4'),\n    title: i18n('combination.equal_4.title'),\n    combination: Combination.EQUAL_4,\n    max: Combination.SIX * 4,\n  },\n  {\n    name: i18n('combination.smallStraight'),\n    title: i18n('combination.smallStraight.title'),\n    combination: Combination.SMALL_STRAIGHT,\n    max: 25,\n  },\n  {\n    name: i18n('combination.bigStraight'),\n    title: i18n('combination.bigStraight.title'),\n    combination: Combination.BIG_STRAIGHT,\n    max: 30,\n  },\n  {\n    name: i18n('combination.twoPair'),\n    title: i18n('combination.twoPair.title'),\n    combination: Combination.TWO_PAIR,\n    max: 25,\n  },\n  {\n    name: i18n('combination.fullHouse'),\n    title: i18n('combination.fullHouse.title'),\n    combination: Combination.FULL_HOUSE,\n    max: 30,\n  },\n  {\n    name: i18n('combination.theYacht'),\n    title: i18n('combination.theYacht.title'),\n    combination: Combination.THE_YACHT,\n    max: 50,\n  },\n  {\n    name: i18n('combination.chance'),\n    title: i18n('combination.chance.title'),\n    combination: Combination.CHANCE,\n    max: Combination.SIX * 5,\n  },\n]\n\nexport const MAX_POSSIBLE_POINTS = combinationsDefaultState.reduce(\n  (prev, curr) => prev + curr.max,\n  0,\n)\n\nexport const combinationsSelector: Selector<CombinationInfo[]> = ({ combinations }) => combinations\n\nexport const makeCombinationsSelector = () => createSelector(combinationsSelector, simpleCombiner)\n\nexport const combinations: Reducer<CombinationInfo[], CombinationsReturn> = (\n  state = combinationsDefaultState,\n) => state\n","import { getItem } from '../getItem'\nimport { Language, languageDefaultState } from '../../redux/reducers/language'\nimport { i18nKeys } from './i18nKeys'\nimport { rus } from './rus'\nimport { eng } from './eng'\n\ntype I18n = (key: i18nKeys | string) => string\n\nconst lang: Language = getItem('language') || languageDefaultState\n\nexport type LanguageMap = {\n  [key in i18nKeys]: string\n}\n\ntype LanguagesMap = {\n  [lang in Language]: LanguageMap}\n\nconst languagesMap: LanguagesMap = {\n  rus,\n  eng,\n}\n\nexport const i18n: I18n = (key) => {\n  const res = languagesMap[lang][key as i18nKeys]\n\n  if (res === undefined) {\n    return `~${key}~`\n  }\n\n  return res\n}\n","import { LanguageMap } from './i18n'\n\nexport const rus: LanguageMap = {\n  yacht: 'Яхта',\n  darkTheme: 'Темная тема',\n  language: 'Язык',\n  compactTable: 'Компактная таблица',\n  activePlayerFirst: 'Активный игрок первый',\n  diceSize: 'Размер костей',\n  playerNo: 'Игрок №',\n  currentGameWillBeLost: 'Текущая игра будет утеряна.',\n  combinations: 'Комбинации',\n  total: 'Итог',\n  gameOver: 'Игра окончена',\n  maximumPossibleNumberOfPoints: 'Максимально возможное количество очков',\n  ofMax: 'из макс.',\n  more: 'еще',\n  points1: 'очков',\n  points2: 'очко',\n  points3: 'очка',\n  points4: 'очков',\n\n  'button.startGame': 'Начать игру',\n  'button.restartGame': 'Начать заново',\n  'button.startNewGame': 'начать новую игру',\n  'button.cancel': 'Отмена',\n  'button.add': 'Добавить',\n  'button.reset': 'Сброс',\n  'button.reset2': 'Сбросить',\n  'button.dropDices': 'Бросить кости',\n  'button.addPlayer': 'Добавить игрока',\n  'button.writeDownYourPoints': 'Запишите ваши очки',\n  'button.goHome': 'На главную',\n  'button.strikeOut': 'Вычеркнуть',\n\n  'tab.combinations': 'Комбинации',\n  'tab.settings': 'Настройки',\n  'tab.rules': 'Правила',\n  'tab.history': 'История',\n\n  'history.header': 'История',\n  'history.user.label': 'История игрока',\n  'history.noHistoryYet': 'Истории пока нет',\n  'history.activeMove': 'Ваш ход, еще #triesLeft# #tries#...',\n  'history.activeMoveTries1': 'попытка',\n  'history.activeMoveTries2': 'попытки',\n  'history.checkbox.followActivePlayer': '',\n\n  'combination.1': 'Единицы',\n  'combination.1.title': 'Сумма всех костей, на которых выпали 1',\n  'combination.2': 'Двойки',\n  'combination.2.title': 'Сумма всех костей, на которых выпали 2',\n  'combination.3': 'Тройки',\n  'combination.3.title': 'Сумма всех костей, на которых выпали 3',\n  'combination.4': 'Четверки',\n  'combination.4.title': 'Сумма всех костей, на которых выпали 4',\n  'combination.5': 'Пятерки',\n  'combination.5.title': 'Сумма всех костей, на которых выпали 5',\n  'combination.6': 'Шестёрки',\n  'combination.6.title': 'Сумма всех костей, на которых выпали 6',\n  'combination.bonus': 'Бонус',\n  'combination.bonus.title': 'Если игрок набирает по крайней мере 63 очков (по три кости с каждым числом) в верхней секции, он получает бонус в виде 35 очков',\n\n  'combination.threeOfAKind': 'Сэт',\n  'combination.threeOfAKind.title': 'Три кости, на которых выпали одинаковые значения. В очки записывается сумма этих трёх костей.',\n  'combination.equal_4': 'Карэ',\n  'combination.equal_4.title': 'Четыре кости, на которых выпали одинаковые значения. В очки записывается сумма этих четырёх костей.',\n  'combination.smallStraight': 'Младший стрит',\n  'combination.smallStraight.title': 'Любые четыре последовательных числа (1, 2, 3, 4 или 2, 3, 4, 5 или 3, 4, 5, 6). Записывается 25 очков.',\n  'combination.bigStraight': 'Старший стрит',\n  'combination.bigStraight.title': 'Пять последовательных чисел (1, 2, 3, 4, 5 или 2, 3, 4, 5, 6). Записывается 30 очков.',\n  'combination.twoPair': 'Две пары',\n  'combination.twoPair.title': 'Две пары любых одинаковых костей. Записывается 25 очков',\n  'combination.fullHouse': 'Фул Хаус',\n  'combination.fullHouse.title': 'Пара и тройка любых одинаковых костей. Записывается 30 очков.',\n  'combination.theYacht': 'Яхта',\n  'combination.theYacht.title': 'Пять костей, на которых выпали одинаковые значения. Записывается 50 очков.',\n  'combination.chance': 'Шанс',\n  'combination.chance.title': 'Записывается сумма всех выпавших костей.',\n\n  'help.intro': 'Яхта — народная игра в кости, напоминающая Покер на костях, предшественник игры Yahtzee.',\n  'help.gameplay.header': 'Ход игры',\n  'help.gameplay.text': 'В яхту можно играть в одиночку или с любым количеством противников. Игроки ходят по очереди, бросая одновременно пять костей. После каждого броска игрок выбирает, какие кости оставить, а какие перебросить. Игрок может перебросить любое количество (включая все пять) костей два раза за ход. В каждом ходе необходимо записать очки за одну из возможных комбинаций, если подходящих не осталось, то нужно написать 0 за любую. Каждую комбинацию можно записать только один раз. Игрок с наибольшим количеством очков в конце игры побеждает.',\n  'help.scoring.header': 'Подсчёт очков',\n  'help.scoring.text': 'Очки записываются за следующие комбинации:',\n  'help.topSection': 'Верхняя секция:',\n  'help.topSection.tip': 'Если игрок набирает по крайней мере 63 очков (по три кости с каждым числом) в верхней секции, он получает бонус в виде 35 очков.',\n  'help.bottomSection': 'Нижняя секция:',\n}\n","import { LanguageMap } from './i18n'\n\nexport const eng: LanguageMap = {\n  yacht: 'Yacht',\n  darkTheme: 'Dark theme',\n  language: 'Language',\n  compactTable: 'Compact table',\n  activePlayerFirst: 'Active player first',\n  diceSize: 'Dice size',\n  playerNo: 'Player #',\n  currentGameWillBeLost: 'Current game will be lost.',\n  combinations: 'Combinations',\n  total: 'Total',\n  gameOver: 'Game over',\n  maximumPossibleNumberOfPoints: 'Maximum possible number of points',\n  ofMax: 'of max',\n  more: '',\n  points1: 'points left',\n  points2: 'points left',\n  points3: 'points left',\n  points4: 'points left',\n\n  'button.startGame': 'Start game',\n  'button.restartGame': 'Restart game',\n  'button.startNewGame': 'start new game',\n  'button.cancel': 'Cancel',\n  'button.add': 'Add',\n  'button.reset': 'Reset',\n  'button.reset2': 'Reset',\n  'button.dropDices': 'Drop dices',\n  'button.addPlayer': 'Add player',\n  'button.writeDownYourPoints': 'Write down your points',\n  'button.goHome': 'Go home',\n  'button.strikeOut': 'Strike out',\n\n  'tab.combinations': 'Combinations',\n  'tab.settings': 'Settings',\n  'tab.rules': 'Rules',\n  'tab.history': 'History',\n\n  'history.header': 'History',\n  'history.user.label': 'History of user',\n  'history.noHistoryYet': 'No history yet',\n  'history.activeMove': 'Your move, #triesLeft# tries left...',\n  'history.activeMoveTries1': '',\n  'history.activeMoveTries2': '',\n  'history.checkbox.followActivePlayer': 'Следовать за активным игроком',\n\n  'combination.1': 'Ones',\n  'combination.1.title': 'The sum of dice with the number 1',\n  'combination.2': 'Twos',\n  'combination.2.title': 'The sum of dice with the number 2',\n  'combination.3': 'Threes',\n  'combination.3.title': 'The sum of dice with the number 3',\n  'combination.4': 'Fours',\n  'combination.4.title': 'The sum of dice with the number 4',\n  'combination.5': 'Fives',\n  'combination.5.title': 'The sum of dice with the number 5',\n  'combination.6': 'Sixes',\n  'combination.6.title': 'The sum of dice with the number 6',\n  'combination.bonus': 'Bonus',\n  'combination.bonus.title': 'If a player scores a total of 63 or more points in these six boxes, a bonus of 35 is added to the upper section score.',\n\n  'combination.threeOfAKind': 'Three of a Kind',\n  'combination.threeOfAKind.title': 'At least three dice showing the same face. Sum of those four dice',\n  'combination.equal_4': 'Four of a kind',\n  'combination.equal_4.title': 'At least four dice showing the same face. Sum of those four dice',\n  'combination.smallStraight': 'Small Straight',\n  'combination.smallStraight.title': 'Four sequential dice (1-2-3-4, 2-3-4-5, or 3-4-5-6). 25 points',\n  'combination.bigStraight': 'Big straight',\n  'combination.bigStraight.title': 'Five sequential dice (1-2-3-4-5 or 2-3-4-5-6). 30 points',\n  'combination.twoPair': 'Two pair',\n  'combination.twoPair.title': 'Two of one number and two of another. 25 points',\n  'combination.fullHouse': 'Full house',\n  'combination.fullHouse.title': 'Three of one number and two of another. 30 points',\n  'combination.theYacht': 'Yacht',\n  'combination.theYacht.title': 'All five dice showing the same face. 50 points',\n  'combination.chance': 'Chance',\n  'combination.chance.title': 'Any combination. Sum of all dice',\n\n  'help.intro': 'Yacht - is a public domain dice game, similar to the Latin American game Generala, the English game of Poker Dice, the Scandinavian Yatzy, and Cheerio.',\n  'help.gameplay.header': 'Gameplay',\n  'help.gameplay.text': 'The object of the game is to score points by rolling five dice to make certain combinations. The dice can be rolled up to three times in a turn to try to make these combinations. A game consists of twelve rounds. After each round the player chooses which scoring category is to be used for that round. Once a category has been used in the game, it cannot be used again. The scoring categories have varying point values, some of which are fixed values and others where the score depends on the playerId of the dice. A Yacht is five-of-a-kind and scores 50 points; the highest of any category. The winner is the player who scores the most points.',\n  'help.scoring.header': 'Scoring',\n  'help.scoring.text': 'The following are categories and the points scored in those categories:',\n  'help.topSection': 'Top section',\n  'help.topSection.tip': 'If a player scores a total of 63 or more points in these six boxes, a bonus of 35 is added to the upper section score.',\n  'help.bottomSection': 'Bottom section'\n}\n","import { Reducer } from 'redux'\nimport { ActionWithEntry } from '../../helpers/types'\n\nenum Constants {\n  NEXT_TURN = 'NEXT_TURN',\n  INCREASE_SHOT = 'INCREASE_SHOT',\n  RESET_PLAYER_MOVE = 'RESET_PLAYER_MOVE',\n}\n\nexport type Move = [string, number]\n\nexport interface PlayerMoveState {\n  playerMove: Move\n}\n\nexport const MAX_SHOT_COUNT = 3\n\ntype PlayerMoveActionReturn = ActionWithEntry<Constants, Move>\n\nexport const playerMoveDefaultState: Move = ['', 0]\n\ntype NextTurn = (move: Move) => PlayerMoveActionReturn\n\nexport const nextTurn: NextTurn = (move) => ({\n  type: Constants.NEXT_TURN,\n  entry: move,\n})\n\ntype IncreaseShot = () => PlayerMoveActionReturn\n\nexport const increaseShot: IncreaseShot = () => ({\n  type: Constants.INCREASE_SHOT,\n  entry: playerMoveDefaultState,\n})\n\ntype ResetPlayerMove = () => PlayerMoveActionReturn\n\nexport const resetPlayerMove: ResetPlayerMove = () => ({\n  type: Constants.RESET_PLAYER_MOVE,\n  entry: playerMoveDefaultState,\n})\n\nexport const playerMove: Reducer<Move, PlayerMoveActionReturn> = (state = playerMoveDefaultState, { type, entry }) => {\n  switch (type) {\n    case Constants.INCREASE_SHOT: {\n      const { 0: playerId, 1: shot } = state\n      return [playerId, shot + 1]\n    }\n    case Constants.NEXT_TURN:\n      return entry\n    case Constants.RESET_PLAYER_MOVE:\n      return entry\n    default:\n      return state\n  }\n}\n","import { Reducer } from 'redux'\nimport { ActionWithEntry, ThunkAction } from '../../helpers/types'\n\nenum Constants {\n  TOGGLE_TABLE_SIZE = 'TOGGLE_TABLE_SIZE'\n}\n\nexport enum TableSizes {\n  MEDIUM = 'medium',\n  SMALL = 'small',\n}\n\ntype TableSizeReturnType = ActionWithEntry<Constants, TableSizeState['tableSize']>\n\nexport interface TableSizeState {\n  tableSize: TableSizes\n}\n\nexport const tableSizeDefaultState: TableSizeState['tableSize'] = TableSizes.SMALL\n\nexport type ToggleSize = ThunkAction\n\nexport const toggleSize: ToggleSize = () => (dispatch, getState) => {\n  const { tableSize } = getState()\n  dispatch<TableSizeReturnType>({\n    type: Constants.TOGGLE_TABLE_SIZE,\n    entry: (tableSize === TableSizes.SMALL) ? TableSizes.MEDIUM : TableSizes.SMALL,\n  })\n}\n\nexport const tableSize: Reducer<TableSizeState['tableSize'], TableSizeReturnType> = (state = tableSizeDefaultState, { type, entry }) => {\n  switch (type) {\n    case Constants.TOGGLE_TABLE_SIZE: {\n      return entry\n    }\n    default:\n      return state\n  }\n}\n","import { Reducer } from 'redux'\nimport { ActionWithEntry } from '../../helpers/types'\n\ntype DrawerOpened = boolean\n\nexport interface DrawerOpenedState {\n  drawerOpened: DrawerOpened\n}\n\nenum Constants {\n  TOGGLE_DRAWER_OPENED = 'TOGGLE_DRAWER_OPENED',\n}\n\ntype DrawerOpenedActionReturn = ActionWithEntry<Constants, DrawerOpened>\n\nexport const drawerOpenedDefaultState: DrawerOpened = false\n\nexport type ToggleDrawerOpened = (flag: boolean) => DrawerOpenedActionReturn\n\nexport const toggleDrawerOpened: ToggleDrawerOpened = (flag) => ({\n  type: Constants.TOGGLE_DRAWER_OPENED,\n  entry: flag,\n})\n\nexport const drawerOpened: Reducer<DrawerOpened, DrawerOpenedActionReturn> = (state = drawerOpenedDefaultState, { type, entry }) => {\n  switch (type) {\n    case Constants.TOGGLE_DRAWER_OPENED: {\n      return entry\n    }\n    default:\n      return state\n  }\n}\n","import { Action, Reducer } from 'redux'\nimport { Combination } from './combinations'\nimport { ActionWithEntry, Parameters } from '../../helpers/types'\nimport { Player } from './players'\nimport { CheckMatch } from '../../helpers/checkMatch'\nimport update from 'immutability-helper'\nimport { calcBonus } from '../../helpers/calcBonus'\n\nexport type Points = {\n  [key in Combination]?: number\n}\n\nexport interface PlayerPoints {\n  [playerId: string]: Points\n}\n\nexport interface PlayerPointsState {\n  playerPoints: PlayerPoints\n}\n\nenum Constants {\n  SAVE_COMBINATION = 'SAVE_COMBINATION',\n  RESET_PLAYER_POINTS = 'RESET_PLAYER_POINTS',\n}\n\nexport const playerPointsDefaultState: PlayerPoints = {}\n\nexport type SaveCombinationParams = Parameters<SaveCombination>\n\nexport type SaveCombinationReturn = ReturnType<SaveCombination>\n\ntype SaveCombination = (\n  playerId: Player['id'],\n  combination: Combination,\n  points: ReturnType<CheckMatch>['points'],\n) => ActionWithEntry<Constants, {\n  playerId: SaveCombinationParams[0],\n  combination: SaveCombinationParams[1],\n  points: SaveCombinationParams[2],\n}>\n\nexport const saveCombination: SaveCombination = (playerId, combination, points) => ({\n  type: Constants.SAVE_COMBINATION,\n  entry: {\n    points,\n    combination,\n    playerId,\n  },\n})\n\ntype ResetPlayerPoints = () => Action\n\nexport const resetPlayerPoints: ResetPlayerPoints = () => ({\n  type: Constants.RESET_PLAYER_POINTS,\n})\n\nexport const playerPoints: Reducer<PlayerPoints, SaveCombinationReturn> = (\n  state = playerPointsDefaultState,\n  { type, entry },\n) => {\n  switch (type) {\n    case Constants.SAVE_COMBINATION:\n      const { playerId, combination, points } = entry\n\n      state = update(state, state[playerId] ? {\n        [playerId]: {\n          $merge: {\n            [combination]: points,\n          },\n        },\n      } : {\n        $merge: {\n          [playerId]: {\n            [combination]: points,\n          },\n        },\n      })\n\n      return update(state, {\n        [playerId]: {\n          [Combination.BONUS]: {\n            $set: calcBonus(state, playerId),\n          },\n        },\n      })\n    case Constants.RESET_PLAYER_POINTS:\n      return update(playerPointsDefaultState, {})\n    default:\n      return state\n  }\n}\n","import { PlayerPoints } from '../redux/reducers/playerPoints'\nimport { BONUS_CONDITION, BONUS_POINTS } from '../redux/reducers/combinations'\n\nexport const calcBonus = (state: PlayerPoints, playerId: keyof PlayerPoints): number => {\n  const bonus = Object.keys(state[playerId]).reduce((prev, curr) => (\n    // @ts-ignore FIXME typings!!!\n    isNaN(parseInt(curr, 10)) ? prev : prev + state[playerId][curr]\n  ), 0)\n\n  return bonus >= BONUS_CONDITION ? BONUS_POINTS : (BONUS_CONDITION - bonus) * -1\n}\n","import { ActionWithEntry, Selector } from '../../helpers/types'\nimport { Reducer } from 'redux'\nimport { createSelector } from 'reselect'\nimport { simpleCombiner } from '../combiners/simpleCombiner'\n\nexport enum ActiveTab {\n  SETTINGS,\n  COMBINATIONS,\n  RULES,\n  HISTORY,\n}\n\nexport interface ActiveTabState {\n  activeTab: ActiveTab\n}\n\nenum Constants {\n  CHANGE_ACTIVE_TAB = 'CHANGE_ACTIVE_TAB'\n}\n\ntype ActiveTabActionReturn = ActionWithEntry<Constants, ActiveTab>\n\nexport const activeTabDefaultState: ActiveTab = ActiveTab.SETTINGS\n\ntype ChangeActiveTab = (tab: ActiveTab) => ActiveTabActionReturn\n\nexport const changeActiveTab: ChangeActiveTab = (tab) => ({\n  type: Constants.CHANGE_ACTIVE_TAB,\n  entry: tab,\n})\n\nexport const activeTabSelector: Selector<ActiveTab> = ({ activeTab }) => activeTab\n\nexport const makeActiveTabSelector = () => createSelector(activeTabSelector, simpleCombiner)\n\nexport const activeTab: Reducer<ActiveTab, ActiveTabActionReturn> = (\n  state = activeTabDefaultState,\n  { type, entry },\n) => {\n  switch (type) {\n    case Constants.CHANGE_ACTIVE_TAB: {\n      return entry\n    }\n    default:\n      return state\n  }\n}\n","import { Combination } from './combinations'\nimport { Dices } from './dices'\nimport { ActionWithEntry, Selector } from '../../helpers/types'\nimport { Action, Reducer } from 'redux'\nimport update from 'immutability-helper'\nimport { createSelector } from 'reselect'\nimport { Player } from './players'\nimport { State } from '../defaultState'\n\nenum Constants {\n  ADD_TO_HISTORY = 'ADD_TO_HISTORY',\n  RESET_HISTORY = 'RESET_HISTORY',\n}\n\nexport interface Move {\n  tries: Dices[]\n  result: {\n    [key in Combination]?: number\n  }\n  dicesSelected: Dices[]\n}\n\ninterface History {\n  [playerId: string]: Move[]\n}\n\nexport interface HistoryState {\n  history: History\n}\n\ntype HistoryActionReturn = ActionWithEntry<Constants, History>\n\nexport const historyDefaultState: History = {}\n\ntype AddToHistory = (history: History) => HistoryActionReturn\n\nexport const addToHistory: AddToHistory = (history) => ({\n  type: Constants.ADD_TO_HISTORY,\n  entry: history,\n})\n\nexport const resetHistory = (): Action<Constants> => ({\n  type: Constants.RESET_HISTORY,\n})\n\nexport const historySelector: Selector<History> = ({ history }) => history\n\ninterface Props {\n  playerId: Player['id']\n}\n\nexport const makeHistorySelector = () => createSelector<State, Props, History, Player['id'], Move[]>(\n  historySelector,\n  (_, { playerId }) => playerId,\n  (history, playerId) => history[playerId] || [],\n)\n\nexport const history: Reducer<History, HistoryActionReturn> = (state = historyDefaultState, { type, entry }) => {\n  switch (type) {\n    case Constants.ADD_TO_HISTORY:\n      return update(entry, {})\n    case Constants.RESET_HISTORY:\n      return update(historyDefaultState, {})\n    default:\n      return state\n  }\n}\n","import { Reducer } from 'redux'\nimport { ActionWithEntry, Selector, ThunkAction } from '../../helpers/types'\nimport { createSelector } from 'reselect'\nimport { simpleCombiner } from '../combiners/simpleCombiner'\n\nenum Constants {\n  TOGGLE_HISTORY_FOLLOW_ACTIVE_PLAYER = 'TOGGLE_HISTORY_FOLLOW_ACTIVE_PLAYER',\n}\n\ntype HistoryFollowActivePlayer = boolean\n\nexport interface HistoryFollowActivePlayerState {\n  historyFollowActivePlayer: HistoryFollowActivePlayer\n}\n\ntype HistoryFollowActivePlayerActionReturn = ActionWithEntry<Constants, HistoryFollowActivePlayer>\n\nexport const historyFollowActivePlayerDefaultState: HistoryFollowActivePlayer = true\n\nexport const historyFollowActivePlayerSelector: Selector<HistoryFollowActivePlayer> = ({\n  historyFollowActivePlayer,\n}) => historyFollowActivePlayer\n\nexport const makeHistoryFollowActivePlayerSelector = () => createSelector(\n  historyFollowActivePlayerSelector,\n  simpleCombiner,\n)\n\ntype SetHistoryFollowActivePlayer = (flag: HistoryFollowActivePlayer) => HistoryFollowActivePlayerActionReturn\n\nexport const setHistoryFollowActivePlayer: SetHistoryFollowActivePlayer = (entry) => ({\n  type: Constants.TOGGLE_HISTORY_FOLLOW_ACTIVE_PLAYER,\n  entry,\n})\n\nexport const toggleHistoryFollowActivePlayerThunk: ThunkAction = () => (dispatch, getState) => {\n  const { historyFollowActivePlayer } = getState()\n  dispatch(setHistoryFollowActivePlayer(!historyFollowActivePlayer))\n}\n\nexport const historyFollowActivePlayer: Reducer<HistoryFollowActivePlayer, HistoryFollowActivePlayerActionReturn> = (\n  state = historyFollowActivePlayerDefaultState,\n  { type, entry },\n) => {\n  switch (type) {\n    case Constants.TOGGLE_HISTORY_FOLLOW_ACTIVE_PLAYER: {\n      return entry\n    }\n    default:\n      return state\n  }\n}\n","/**\n * Active player always first\n */\n\nimport { ActionWithEntry, Selector, ThunkAction } from '../../helpers/types'\nimport { Reducer } from 'redux'\nimport { createSelector } from 'reselect'\nimport { simpleCombiner } from '../combiners/simpleCombiner'\nimport { isMobile } from '../../helpers/isMobile'\n\nenum Constants {\n  TOGGLE_ACTIVE_FIRST = 'TOGGLE_ACTIVE_FIRST',\n}\n\nexport type ActiveFirst = boolean\n\nexport interface ActiveFirstState {\n  activeFirst: ActiveFirst\n}\n\ntype ActiveFirstReturn = ActionWithEntry<Constants, ActiveFirst>\n\nexport const activeFirstDefaultState: ActiveFirst = isMobile\n\ntype ToggleActiveFirst = (flag: boolean) => ActiveFirstReturn\n\nexport const toggleActiveFirst: ToggleActiveFirst = (flag) => ({\n  type: Constants.TOGGLE_ACTIVE_FIRST,\n  entry: flag,\n})\n\nexport const toggleActiveFirstThunk: ThunkAction = () => (dispatch, getState) => {\n  const { activeFirst } = getState()\n  dispatch(toggleActiveFirst(!activeFirst))\n}\n\nexport const activeFirstSelector: Selector<ActiveFirst> = ({ activeFirst }) => activeFirst\n\nexport const makeActiveFirstSelector = () => createSelector(activeFirstSelector, simpleCombiner)\n\nexport const activeFirst: Reducer<ActiveFirst, ActiveFirstReturn> = (\n  state = activeFirstDefaultState,\n  { type, entry },\n) => {\n  switch (type) {\n    case Constants.TOGGLE_ACTIVE_FIRST: {\n      return entry\n    }\n    default:\n      return state\n  }\n}\n","import { gamePhaseDefaultState } from './reducers/gamePhase'\nimport { playersDefaultState } from './reducers/players'\nimport { dicesDefaultState } from './reducers/dices'\nimport { dicesSelectedDefaultState } from './reducers/dicesSelected'\nimport { getBooleanItem, getItem } from '../helpers/getItem'\nimport { loadingDefaultState } from './reducers/loading'\nimport { diceSizeDefaultState } from './reducers/diceSize'\nimport { combinationsDefaultState } from './reducers/combinations'\nimport { playerMoveDefaultState } from './reducers/playerMove'\nimport { tableSizeDefaultState } from './reducers/tableSize'\nimport { drawerOpenedDefaultState } from './reducers/drawerOpened'\nimport { playerPointsDefaultState } from './reducers/playerPoints'\nimport { languageDefaultState } from './reducers/language'\nimport { activeTabDefaultState } from './reducers/activeTab'\nimport { historyDefaultState } from './reducers/history'\nimport { historyFollowActivePlayerDefaultState } from './reducers/historyFollowActivePlayer'\nimport { activeFirstDefaultState } from './reducers/activeFirst'\n\nexport let gamePhase = gamePhaseDefaultState.gamePhase\nexport let players = playersDefaultState\nexport let dices = dicesDefaultState\nexport let dicesSelected = dicesSelectedDefaultState\nexport let diceSize = diceSizeDefaultState\nexport let combinations = combinationsDefaultState\nexport let playerMove = playerMoveDefaultState\nexport let tableSize = tableSizeDefaultState\nexport let playerPoints = playerPointsDefaultState\nexport let language = languageDefaultState\nexport let activeTab = activeTabDefaultState\nexport let history = historyDefaultState\n\nexport let loading: boolean\nexport let drawerOpened: boolean\nexport let historyFollowActivePlayer: boolean\nexport let activeFirst: boolean\n\ntry {\n  gamePhase = getItem('gamePhase', false) || gamePhase\n  players = getItem('players') || players\n  dices = getItem('dices') || dices\n  dicesSelected = getItem('dicesSelected') || dicesSelected\n  diceSize = getItem('diceSize') || diceSize\n  combinations = getItem('combinations') || combinations\n  playerMove = getItem('playerMove') || playerMove\n  tableSize = getItem('tableSize') || tableSize\n  playerPoints = getItem('playerPoints') || playerPoints\n  language = getItem('language') || language\n  activeTab = getItem('activeTab') || activeTab\n  history = getItem('history') || history\n\n  loading = getBooleanItem('loading', loadingDefaultState)\n  drawerOpened = getBooleanItem('drawerOpened', drawerOpenedDefaultState)\n  historyFollowActivePlayer = getBooleanItem('historyFollowActivePlayer', historyFollowActivePlayerDefaultState)\n  activeFirst = getBooleanItem('activeFirst', activeFirstDefaultState)\n\n} catch (e) {\n  console.error(e)\n}\n","import { GamePhaseState } from './reducers/gamePhase'\nimport { PlayersState } from './reducers/players'\nimport { DicesState } from './reducers/dices'\nimport { DicesSelectedState } from './reducers/dicesSelected'\nimport {\n  gamePhase,\n  players,\n  dices,\n  dicesSelected,\n  loading,\n  diceSize,\n  combinations,\n  playerMove,\n  tableSize,\n  drawerOpened,\n  playerPoints,\n  language,\n  activeTab,\n  history,\n  historyFollowActivePlayer,\n  activeFirst,\n} from './getStateFromStorage'\nimport { LoadingState } from './reducers/loading'\nimport { DiceSizeState } from './reducers/diceSize'\nimport { CombinationsState } from './reducers/combinations'\nimport { PlayerMoveState } from './reducers/playerMove'\nimport { TableSizeState } from './reducers/tableSize'\nimport { DrawerOpenedState } from './reducers/drawerOpened'\nimport { PlayerPointsState } from './reducers/playerPoints'\nimport { LanguageState } from './reducers/language'\nimport { ActiveTabState } from './reducers/activeTab'\nimport { HistoryState } from './reducers/history'\nimport { HistoryFollowActivePlayerState } from './reducers/historyFollowActivePlayer'\nimport { ActiveFirstState } from './reducers/activeFirst'\n\nexport interface State\n  extends GamePhaseState, PlayersState, DicesState, DicesSelectedState,\n    LoadingState, DiceSizeState, CombinationsState,\n    PlayerMoveState, TableSizeState, DrawerOpenedState, PlayerPointsState,\n    LanguageState, ActiveTabState, HistoryState, HistoryFollowActivePlayerState,\n    ActiveFirstState {\n}\n\nexport const defaultState: State = {\n  gamePhase,\n  players,\n  dices,\n  dicesSelected,\n  loading,\n  diceSize,\n  combinations,\n  playerMove,\n  tableSize,\n  drawerOpened,\n  playerPoints,\n  language,\n  activeTab,\n  history,\n  historyFollowActivePlayer,\n  activeFirst,\n}\n","export const toString = (obj: any): string => (\n  JSON.stringify(obj.toJSON ? obj.toJSON() : obj)\n)\n","import { State } from '../redux/defaultState'\n\nexport const setItem = (key: keyof State | 'theme', value: string) => (\n  localStorage.setItem(key, value)\n)\n","import thunk from 'redux-thunk'\nimport { applyMiddleware, combineReducers, compose, createStore, Reducer, Store } from 'redux'\nimport { defaultState, State } from './defaultState'\nimport { gamePhase } from './reducers/gamePhase'\nimport { subscriptions } from './subscriptions'\nimport { players } from './reducers/players'\nimport { dices } from './reducers/dices'\nimport { dicesSelected } from './reducers/dicesSelected'\nimport { loading } from './reducers/loading'\nimport { diceSize } from './reducers/diceSize'\nimport { combinations } from './reducers/combinations'\nimport { playerMove } from './reducers/playerMove'\nimport { tableSize } from './reducers/tableSize'\nimport { drawerOpened } from './reducers/drawerOpened'\nimport { playerPoints } from './reducers/playerPoints'\nimport { language } from './reducers/language'\nimport { activeTab } from './reducers/activeTab'\nimport { history } from './reducers/history'\nimport { historyFollowActivePlayer } from './reducers/historyFollowActivePlayer'\nimport { activeFirst } from './reducers/activeFirst'\n\nconst middleware = [thunk]\n\nconst reducers: Reducer<State> = combineReducers<State>({\n  players,\n  gamePhase,\n  dices,\n  dicesSelected,\n  loading,\n  diceSize,\n  combinations,\n  playerMove,\n  tableSize,\n  drawerOpened,\n  playerPoints,\n  language,\n  activeTab,\n  history,\n  historyFollowActivePlayer,\n  activeFirst,\n})\n\ndeclare global {\n  interface Window {\n    __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\n  }\n}\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\n\nconst enhancer = composeEnhancers(\n  applyMiddleware(...middleware),\n)\n\nexport const store: Store<State> = createStore(reducers, defaultState, enhancer)\n\nsubscriptions(store)\n","import { Store, Unsubscribe } from 'redux'\nimport { State } from './defaultState'\nimport { toString } from '../helpers/toString'\nimport { setItem } from '../helpers/setItem'\n\ntype Subscriptions = (store: Store<State>) => Unsubscribe\n\nexport const subscriptions: Subscriptions = ({ subscribe, getState }) => subscribe(() => {\n  const {\n    gamePhase, players, dices, dicesSelected, diceSize, playerMove,\n    tableSize, drawerOpened, playerPoints, language, activeTab, history,\n    historyFollowActivePlayer, activeFirst,\n  } = getState()\n\n  setItem('gamePhase', gamePhase)\n  setItem('players', toString(players))\n  setItem('dices', toString(dices))\n  setItem('dicesSelected', toString(dicesSelected))\n  setItem('diceSize', toString(diceSize))\n  setItem('playerMove', toString(playerMove))\n  setItem('tableSize', toString(tableSize))\n  setItem('drawerOpened', toString(drawerOpened))\n  setItem('playerPoints', toString(playerPoints))\n  setItem('language', toString(language))\n  setItem('activeTab', toString(activeTab))\n  setItem('history', toString(history))\n  setItem('historyFollowActivePlayer', toString(historyFollowActivePlayer))\n  setItem('activeFirst', toString(activeFirst))\n})\n","import React, { createContext, FC, useCallback, useMemo, useState } from 'react'\nimport { PaletteType, Theme } from '@material-ui/core'\nimport createMuiTheme from '@material-ui/core/styles/createMuiTheme'\nimport ThemeProvider from '@material-ui/styles/ThemeProvider'\nimport { getItem } from './getItem'\nimport { setItem } from './setItem'\nimport useTheme from '@material-ui/core/styles/useTheme'\nimport { myTheme } from '../components/MainLayout/myTheme'\n\nexport interface ThemeProviderHOCProps {\n  toggleTheme?(): void\n\n  theme?: PaletteType\n}\n\nexport const ThemeContext = createContext<ThemeProviderHOCProps>({})\n\nexport const themeProviderHOC = (Component: FC): FC => () => {\n  const [theme, setTheme] = useState(getItem('theme', false) || 'dark')\n\n  const toggleTheme = useCallback(\n    () => {\n      const newPaletteType: PaletteType = theme === 'light' ? 'dark' : 'light'\n      setTheme(newPaletteType)\n      setItem('theme', newPaletteType)\n\n      document.body.style.background = newPaletteType === 'dark' ? '#303030' : '#fff'\n    },\n    [theme],\n  )\n\n  const { palette: { common: { white } } }: Theme = useTheme()\n\n  const memoizedTheme = useMemo(\n    () => createMuiTheme(myTheme(theme, white)),\n    [theme, white],\n  )\n\n  return (\n    <ThemeContext.Provider value={{ theme, toggleTheme }}>\n      <ThemeProvider theme={memoizedTheme}>\n        <Component />\n      </ThemeProvider>\n    </ThemeContext.Provider>\n  )\n}\n","import React from 'react'\n\n/**\n * Component Without Props\n */\nexport const cwp = (\n  // TODO: typings!!!\n  Component: any = 'div',\n) => <T extends {}>(\n  ...propsToExclude: Array<keyof T>\n) => (\n  // TODO: typings!!!\n  restProps: any,\n) => {\n  const rest = { ...restProps }\n\n  Object.keys(rest).forEach((key) => {\n    if (propsToExclude.indexOf(key as keyof T) !== -1) {\n      delete rest[key]\n    }\n  })\n\n  return (\n    <Component {...rest} />\n  )\n}\n","import styled from '@material-ui/styles/styled'\nimport { Themed } from '../../helpers/types'\nimport { replaceKeysInObject } from '../../helpers/replaceKeysInObject'\nimport { DrawerOpenedConnectorProps } from './MainLayoutConnected'\nimport { cwp } from '../../helpers/cwp'\n\nexport const Wrapper = styled(\n  cwp()<DrawerOpenedConnectorProps>('drawer'),\n)(({\n  theme: {\n    spacing,\n    transitions: { create, easing, duration },\n    drawerWidth,\n    mainLayout: { footerHeight },\n  },\n  drawer,\n}: Themed<DrawerOpenedConnectorProps>) => ({\n  minHeight: '100%',\n\n  // Equal to height of footer\n  // But also accounting for potential margin-bottom of last child\n  marginBottom: spacing(footerHeight) * -1,\n\n  marginLeft: drawer ? spacing(drawerWidth) : 0,\n  transition: create('margin-left', {\n    easing: easing.sharp,\n    duration: duration.enteringScreen,\n  }),\n}))\n\nexport const Push = styled('div')(({\n  theme: { spacing, mainLayout: { footerHeight } },\n}: Themed) => ({\n  height: spacing(footerHeight),\n}))\n\nexport const Footer = styled(\n  cwp('footer')<DrawerOpenedConnectorProps>('drawer'),\n)(({\n  theme: {\n    spacing, transitions: { create, easing, duration },\n    breakpoints: { down },\n    drawerWidth,\n    mainLayout: { footerHeight, innerPadding, innerPaddingMobile },\n  },\n  drawer,\n}: Themed<DrawerOpenedConnectorProps>) => ({\n  display: 'flex',\n  alignItems: 'center',\n  height: spacing(footerHeight),\n  padding: spacing(0, innerPadding),\n  marginLeft: drawer ? spacing(drawerWidth) : 0,\n  transition: create('margin-left', {\n    easing: easing.sharp,\n    duration: duration.enteringScreen,\n  }),\n  [down('xs')]: {\n    padding: spacing(0, innerPaddingMobile),\n    justifyContent: 'center',\n  },\n}))\n\nexport const Inner = styled('div')(({\n  theme: {\n    spacing, mixins: { toolbar },\n    breakpoints: { down },\n    mainLayout: { innerPadding, innerPaddingMobile },\n  },\n}: Themed) => ({\n  padding: spacing(2, innerPadding),\n  ...replaceKeysInObject(\n    toolbar,\n    'minHeight',\n    'paddingTop',\n    (value: number): number => spacing(value / 6),\n  ),\n  maxWidth: spacing(130),\n  [down('xs')]: {\n    paddingLeft: spacing(innerPaddingMobile),\n    paddingRight: spacing(innerPaddingMobile),\n  },\n}))\n","// @ts-ignore\nimport { getType } from './getType'\n\ntype ReplaceKeysInObject = (obj: any, what: any, withWhat: any, modifyValue?: any) => any\n\nexport const replaceKeysInObject: ReplaceKeysInObject = (obj, what, withWhat, modifyValue?) => {\n  const resObject = {}\n  Object.keys(obj).map((key) =>\n    // @ts-ignore\n    resObject[key === what ? withWhat : key] = getType(obj[key]) === 'Object'\n      ? replaceKeysInObject(obj[key], what, withWhat, modifyValue)\n      : modifyValue ? modifyValue(obj[key]) : obj[key],\n  )\n\n  return resObject\n}\n","type ReturnedTypes = 'Object' | 'Array' | 'String' | 'Number' | 'Null' | 'Boolean' | 'Undefined' | 'Function'\n\ntype GetType = (obj: any) => ReturnedTypes\n\nexport const getType: GetType = (obj) => (\n  // @ts-ignore FIXME typings!!!\n  ({}).toString.call(obj).match(/\\s([a-zA-Z]+)/)[1] as ReturnedTypes\n)\n","import { CSSProperties } from 'react'\nimport { CreateCSSProperties } from '@material-ui/core/styles/withStyles'\n\nexport type ConditionalCSS = (\n  params: Array<[boolean | undefined, CSSProperties | undefined | {}]\n    | [boolean | undefined, CSSProperties | undefined | {}, CSSProperties | undefined | {}]\n    | CSSProperties\n    | {}>,\n) => CreateCSSProperties | {}\n\nexport const conditionalCSS: ConditionalCSS = (params) => {\n  let returnObject: CSSProperties | {} = {}\n\n  params.forEach((param) => {\n    if (Array.isArray(param)) {\n      const [condition, css, altCss] = param\n      if (condition) {\n        returnObject = { ...returnObject, ...css }\n      } else {\n        returnObject = { ...returnObject, ...altCss }\n      }\n    } else {\n      returnObject = { ...returnObject, ...param }\n    }\n  })\n\n  return returnObject\n}\n","import { CSSProperties } from 'react'\nimport { AlignItemsProperty, JustifyContentProperty } from 'csstype'\n\ntype Stretch4 = (top?: number, right?: number, bottom?: number, left?: number) => CSSProperties\n\nconst iU = (value: number | undefined): boolean => value === undefined\n\nexport const stretch: Stretch4 = (\n  top = 0,\n  right,\n  bottom,\n  left,\n) => {\n\n  if (iU(right) && iU(bottom) && iU(left)) {\n    left = right = bottom = top\n  }\n\n  if (!iU(top) && !iU(right) && iU(bottom) && iU(left)) {\n    left = right\n    bottom = top\n  }\n\n  if (!iU(top) && !iU(right) && !iU(bottom) && iU(left)) {\n    left = right\n  }\n\n  return {\n    position: 'absolute',\n    top,\n    right,\n    bottom,\n    left,\n  }\n}\n\ntype Align = (vertical?: AlignItemsProperty, horizontal?: JustifyContentProperty) => CSSProperties\n\nexport const align: Align = (\n  vertical = 'center',\n  horizontal = 'center',\n) => ({\n  display: 'flex',\n  alignItems: vertical,\n  justifyContent: horizontal,\n})\n\nexport const cropString: CSSProperties = {\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  whiteSpace: 'nowrap',\n}\n","import React from 'react'\nimport styled from '@material-ui/styles/styled'\nimport Typography from '@material-ui/core/Typography'\nimport { Themed } from '../../helpers/types'\nimport { conditionalCSS } from '../../helpers/conditionalCSS'\nimport { stretch } from '../../helpers/css'\n\nexport const Heading = styled((props) => (\n  <Typography variant=\"h4\" component=\"h1\" {...props} />\n))(({\n  theme: { palette: { type }, breakpoints: { down }, mainLayout: { darkBackgroundColor } },\n}: Themed) => conditionalCSS([\n  [type === 'light', {\n    color: darkBackgroundColor,\n  }],\n  {\n    [down('xs')]: {\n      ...stretch(),\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n    },\n  },\n]))\n","/*tslint:disable:no-magic-numbers*/\nimport styled from '@material-ui/styles/styled'\nimport { Themed } from '../../helpers/types'\nimport AppBar from '@material-ui/core/AppBar'\n\nexport const AppBarStyled = styled(AppBar)(({ theme }: Themed) => ({\n  zIndex: theme.zIndex.drawer + 1,\n}))\n","import { Selector } from '../../helpers/types'\nimport { DrawerOpenedState } from '../reducers/drawerOpened'\n\nexport const drawerOpened: Selector<DrawerOpenedState['drawerOpened']> = ({ drawerOpened }) => drawerOpened\n","import { createSelector } from 'reselect'\nimport { drawerOpened } from '../pureSelectors/drawerOpened'\nimport { simpleCombiner } from '../combiners/simpleCombiner'\n\nexport const makeDrawerOpenedSelector = () => createSelector(drawerOpened, simpleCombiner)\n","import React, { FC, useCallback } from 'react'\nimport styled from '@material-ui/styles/styled'\nimport { Themed } from '../../helpers/types'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport IconButton from '@material-ui/core/IconButton'\nimport { makeDrawerOpenedSelector } from '../../redux/selectors/makeDrawerOpenedSelector'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { toggleDrawerOpened } from '../../redux/reducers/drawerOpened'\nimport { StyledProps } from '@material-ui/core/styles'\n\nconst drawerOpenedSelector = makeDrawerOpenedSelector()\n\nexport const MenuButton: FC<StyledProps> = ({ className }) => {\n  const drawerOpened = useSelector(drawerOpenedSelector)\n  const dispatch = useDispatch()\n  const onClick = useCallback( // TODO maybe we dont need useCallback here? :/\n    () => dispatch(toggleDrawerOpened(!drawerOpened)),\n    [drawerOpened, dispatch],\n  )\n\n  return (\n    <IconButton\n      edge=\"start\"\n      color=\"inherit\"\n      className={className}\n      onClick={onClick}\n    >\n      <MenuIcon fontSize=\"large\" />\n    </IconButton>\n  )\n}\n\nexport const MenuButtonStyled = styled(MenuButton)(({\n  theme: { spacing, palette: { type, common: { black, white } } },\n}: Themed) => ({\n  marginRight: spacing(1),\n  color: type === 'dark' ? white : black,\n  zIndex: 1,\n}))\n","import React, { FC } from 'react'\nimport { i18n } from '../../helpers/i18n/i18n'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport { Heading } from './Heading'\nimport { AppBarStyled } from './AppBarStyled'\nimport { MenuButtonStyled } from './MenuButton'\n\nexport const TopMenu: FC = () => (\n  <AppBarStyled>\n    <Toolbar>\n      <MenuButtonStyled />\n      <Heading>\n        {i18n('yacht')}\n      </Heading>\n    </Toolbar>\n  </AppBarStyled>\n)\n","import { connect } from 'react-redux'\n\nimport { Wrapper as LayoutWrapper, Footer as LayoutFooter } from './MainLayoutParts'\nimport { State } from '../../redux/defaultState'\nimport { DrawerOpenedState } from '../../redux/reducers/drawerOpened'\nimport { ComponentType, ReactNode } from 'react'\n\nexport interface DrawerOpenedConnectorProps {\n  drawer?: boolean\n}\n\ninterface MapStateToProps extends DrawerOpenedState {\n}\n\ninterface MapDispatchToProps {\n  children: ReactNode\n}\n\ninterface MainLayoutWrapperConnectedProps extends MapDispatchToProps, DrawerOpenedConnectorProps {\n}\n\nexport const drawerOpenedConnector = (Component: ComponentType) => connect(\n  ({ drawerOpened }: State): MapStateToProps => ({\n    drawerOpened,\n  }),\n  {},\n  (\n    { drawerOpened }: MapStateToProps,\n    _,\n    { children }: MapDispatchToProps,\n  ): MainLayoutWrapperConnectedProps => ({\n    drawer: drawerOpened,\n    children,\n  }),\n)(Component)\n\nexport const Wrapper = drawerOpenedConnector(LayoutWrapper)\n\nexport const Footer = drawerOpenedConnector(LayoutFooter)\n","import makeStyles from '@material-ui/core/styles/makeStyles'\n\nexport const useGlobalStyles = makeStyles(({ palette: { grey, type, background: { paper } } }) => {\n  const backgroundColor = type === 'dark' ? paper : grey['300']\n\n  return {\n    '@global': {\n      'html, body': {\n        padding: 0,\n        margin: 0,\n        boxSizing: 'border-box',\n      },\n      'html, body, #root': {\n        height: '100%',\n      },\n\n      '@keyframes backgroundAnimation': {\n        '0%, 100%': {\n          backgroundColor,\n        },\n        '50%': {\n          backgroundColor: 'transparent',\n        },\n      },\n    },\n  }\n})\n","import cx from 'classnames'\nimport React, { FC } from 'react'\nimport Drawer from '@material-ui/core/Drawer'\nimport { Theme } from '@material-ui/core'\nimport makeStyles from '@material-ui/core/styles/makeStyles'\nimport createStyles from '@material-ui/core/styles/createStyles'\nimport { makeDrawerOpenedSelector } from '../../redux/selectors/makeDrawerOpenedSelector'\nimport { useSelector } from 'react-redux'\n\nconst useStyles = makeStyles(({\n  spacing,\n  mixins: { toolbar },\n  transitions: { create, easing, duration },\n  drawerWidth,\n}: Theme) => createStyles({\n  drawerHeader: {\n    ...toolbar,\n  },\n  drawerContent: {\n    overflowY: 'auto',\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  drawer: {\n    width: spacing(drawerWidth),\n  },\n  paper: {\n    overflowX: 'hidden',\n  },\n  paperClose: {\n    borderRight: 0,\n  },\n  drawerOpen: {\n    width: spacing(drawerWidth),\n    transition: create('width', {\n      easing: easing.sharp,\n      duration: duration.enteringScreen,\n    }),\n  },\n  drawerClose: {\n    width: 0,\n    overflowX: 'hidden',\n    transition: create('width', {\n      easing: easing.sharp,\n      duration: duration.leavingScreen,\n    }),\n  },\n}))\n\nconst drawerOpenedSelector = makeDrawerOpenedSelector()\n\nexport const DrawerStyled: FC = ({ children }) => {\n  const open = useSelector(drawerOpenedSelector)\n  const { drawer, paper, paperClose, drawerOpen, drawerClose, drawerHeader, drawerContent } = useStyles()\n\n  return (\n    <Drawer\n      open={open}\n      className={cx(drawer, {\n        [drawerOpen]: open,\n        [drawerClose]: !open,\n      })}\n      classes={{\n        paper: cx(paper, {\n          [drawerOpen]: open,\n          [drawerClose]: !open,\n          [paperClose]: !open,\n        }),\n      }}\n      variant=\"permanent\"\n    >\n      <div className={drawerHeader} />\n      <div className={drawerContent}>\n        {children}\n      </div>\n    </Drawer>\n  )\n}\n","import styled from '@material-ui/styles/styled'\nimport Tabs from '@material-ui/core/Tabs'\nimport { Themed } from '../../../helpers/types'\n\nexport const TabsStyled = styled(Tabs)(({ theme: { palette: { divider } } }: Themed) => ({\n  borderBottom: `1px solid ${divider}`,\n}))\n","import React from 'react'\nimport styled from '@material-ui/styles/styled'\nimport Tab from '@material-ui/core/Tab'\nimport { Themed } from '../../../helpers/types'\nimport { i18nKeys } from '../../../helpers/i18n/i18nKeys'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport { i18n } from '../../../helpers/i18n/i18n'\n\ninterface TabStyledProps {\n  icon: JSX.Element\n  title: i18nKeys\n}\n\nexport const TabStyled = styled(\n  ({ title, icon, ...rest }: TabStyledProps) => (\n    <Tab\n      label={\n        <Tooltip title={i18n(title)} placement=\"top\">\n          {icon}\n        </Tooltip>\n      }\n      {...rest}\n    />\n  ),\n)(({ theme: { drawerTabsCount } }: Themed) => ({\n  minWidth: `${100 / drawerTabsCount}%`,\n}))\n","import React, { FC, useCallback, useMemo } from 'react'\nimport { TabsStyled } from './TabsStyled'\nimport SettingsIcon from '@material-ui/icons/Settings'\n// import CasinoIcon from '@material-ui/icons/Casino'\n// import HelpOutlineIcon from '@material-ui/icons/HelpOutline'\nimport HistoryIcon from '@material-ui/icons/History'\nimport useTheme from '@material-ui/core/styles/useTheme'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { changeActiveTab, makeActiveTabSelector } from '../../../redux/reducers/activeTab'\nimport { TabStyled } from './TabStyled'\n\nconst activeTabSelector = makeActiveTabSelector()\n\nconst useTabIndicatorProps = () => {\n  const { spacing, palette: { divider } } = useTheme()\n  return useMemo(() => ({\n    style: {\n      height: spacing(0.5),\n      backgroundColor: divider,\n    },\n  }), [divider, spacing])\n}\n\nexport const Tabs: FC = () => {\n  const activeTab = useSelector(activeTabSelector)\n  const dispatch = useDispatch()\n  const handleChange = useCallback(\n    (_, value) => dispatch(changeActiveTab(value)),\n    [dispatch],\n  )\n\n  return (\n    <TabsStyled\n      value={activeTab}\n      onChange={handleChange}\n      TabIndicatorProps={useTabIndicatorProps()}\n    >\n      <TabStyled title=\"tab.settings\" icon={<SettingsIcon />} />\n      {/*<TabStyled title=\"tab.combinations\" icon={<CasinoIcon />} />*/}\n      {/*<TabStyled title=\"tab.rules\" icon={<HelpOutlineIcon />} />*/}\n      <TabStyled title=\"tab.history\" icon={<HistoryIcon />} />\n    </TabsStyled>\n  )\n}\n\n","import ListItem from '@material-ui/core/ListItem'\nimport styled from '@material-ui/styles/styled'\n\nexport const ListItemStyled = styled(ListItem)({\n  whiteSpace: 'nowrap',\n  justifyContent: 'center',\n})\n","import React, { FC } from 'react'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport { ListItemStyled } from './ListItemStyled'\n\ninterface DrawerListItemProps {\n  // TODO: typings!!!\n  icon: any\n  button?: boolean\n\n  onClick?(): void\n}\n\nexport const ListItem: FC<DrawerListItemProps> = ({\n  icon,\n  onClick,\n  children,\n  button = true,\n}) => (\n  // @ts-ignore TS2769 TODO wtf??\n  <ListItemStyled button={button} onClick={onClick}>\n    <ListItemIcon>\n      {icon}\n    </ListItemIcon>\n    {children && (\n      <ListItemText primary={children} />\n    )}\n  </ListItemStyled>\n)\n","import React, { FC } from 'react'\nimport { ThemeContext } from '../../../../../helpers/themeProviderHOC'\nimport Switch from '@material-ui/core/Switch'\nimport { i18n } from '../../../../../helpers/i18n/i18n'\nimport { ListItem } from '../ListParts/ListItem'\n\nexport const ThemeToggler: FC = () => (\n  <ThemeContext.Consumer>\n    {({ theme, toggleTheme }) => (\n      <ListItem\n        onClick={toggleTheme}\n        icon={\n          <Switch\n            checked={theme === 'dark'}\n            color=\"default\"\n          />\n        }\n      >\n        {i18n('darkTheme')}\n      </ListItem>\n    )}\n  </ThemeContext.Consumer>\n)\n","import styled from '@material-ui/styles/styled'\nimport { Themed } from '../../../../../helpers/types'\nimport Divider from '@material-ui/core/Divider'\nimport { conditionalCSS } from '../../../../../helpers/conditionalCSS'\nimport { cwp } from '../../../../../helpers/cwp'\n\ninterface DrawerListDividerProps {\n  top?: boolean\n  bottom?: boolean\n}\n\nexport const ListDivider = styled(\n  cwp(Divider)<DrawerListDividerProps>('top', 'bottom'),\n)(({\n  theme: { spacing }, top = true, bottom = true,\n}: Themed<DrawerListDividerProps>) => conditionalCSS([\n  [top, {\n    marginTop: spacing(1),\n  }],\n  [bottom, {\n    marginBottom: spacing(1),\n  }],\n]))\n","import styled from '@material-ui/styles/styled'\nimport MaterialButtonGroup, { ButtonGroupProps as MaterialButtonGroupProps } from '@material-ui/core/ButtonGroup'\nimport React from 'react'\nimport { Themed } from '../../../../../helpers/types'\n\ninterface ButtonGroupProps extends Pick<MaterialButtonGroupProps, 'size'> {\n}\n\nexport const ButtonGroup = styled(\n  ({ size = 'small', ...props }: ButtonGroupProps) => (\n    <MaterialButtonGroup variant=\"text\" size={size} {...props} />\n  ),\n)(({ theme: { spacing, palette: { background: { default: def } } } }: Themed) => ({\n  marginRight: spacing(2),\n  '& .Mui-disabled': {\n    backgroundColor: def,\n  },\n}))\n","import { Selector } from '../../helpers/types'\nimport { Language } from '../reducers/language'\n\nexport const language: Selector<Language> = ({ language }) => language\n","import { ThunkAction } from '../../helpers/types'\nimport { changeLanguage } from '../reducers/language'\n\nexport const changeLanguageThunk: ThunkAction = () => (dispatch, getState) => {\n  const { language } = getState()\n  dispatch(changeLanguage(language === 'rus' ? 'eng' : 'rus'))\n  // eslint-disable-next-line no-self-assign\n  window.location = window.location\n}\n","import { ActionWithEntry, ThunkAction } from './types'\nimport { useDispatch } from 'react-redux'\nimport { useCallback } from 'react'\nimport { Action as ReduxAction } from 'redux'\n\ntype Action =\n  | ReturnType<ThunkAction>\n  | ReduxAction\n  | ActionWithEntry\n\nexport const useDispatchedCallback = (actions: Action | Action[]) => {\n  const dispatch = useDispatch()\n\n  return useCallback(\n    () => Array.isArray(actions) ? actions.forEach(dispatch) : dispatch(actions),\n    [actions, dispatch],\n  )\n}\n","import React, { FC } from 'react'\nimport { ListDivider } from '../ListParts/ListDivider'\nimport { ListItem } from '../ListParts/ListItem'\nimport { ButtonGroup } from '../DiceSizeChanger/ButtonGroup'\nimport Button from '@material-ui/core/Button'\nimport { useSelector } from 'react-redux'\nimport { makeLanguageSelector } from '../../../../../redux/selectors/makeLanguageSelector'\nimport { i18n } from '../../../../../helpers/i18n/i18n'\nimport { changeLanguageThunk } from '../../../../../redux/actions/changeLanguageThunk'\nimport { useDispatchedCallback } from '../../../../../helpers/useDispatchedCallback'\n\nconst languageSelector = makeLanguageSelector()\n\nexport const LangChangeButtons: FC = () => {\n  const language = useSelector(languageSelector)\n  const onClick = useDispatchedCallback(changeLanguageThunk())\n\n  return (\n    <>\n      <ListDivider />\n      <ListItem\n        button={false}\n        icon={\n          <ButtonGroup>\n            <Button disabled={language === 'rus'} onClick={onClick}>\n              рус\n            </Button>\n            <Button disabled={language === 'eng'} onClick={onClick}>\n              eng\n            </Button>\n          </ButtonGroup>\n        }\n      >\n        {i18n('language')}\n      </ListItem>\n    </>\n  )\n}\n","import { createSelector } from 'reselect'\nimport { language } from '../pureSelectors/language'\nimport { simpleCombiner } from '../combiners/simpleCombiner'\n\nexport const makeLanguageSelector = () => createSelector(language, simpleCombiner)\n","import { Selector } from '../../helpers/types'\nimport { DiceSize } from '../reducers/diceSize'\n\nexport const diceSize: Selector<DiceSize> = ({ diceSize }) => diceSize\n","import React, { FC } from 'react'\nimport { i18n } from '../../../../../helpers/i18n/i18n'\nimport { ListItem } from '../ListParts/ListItem'\nimport { ListDivider } from '../ListParts/ListDivider'\nimport { ButtonGroup } from './ButtonGroup'\nimport { makeDiceSizeSelector } from '../../../../../redux/selectors/makeDiceSizeSelector'\nimport { useSelector } from 'react-redux'\nimport { useDispatchedCallback } from '../../../../../helpers/useDispatchedCallback'\nimport Button from '@material-ui/core/Button'\nimport { decreaseDiceSize, increaseDiceSize, maxDiceSize, minDiceSize } from '../../../../../redux/reducers/diceSize'\nimport AddIcon from '@material-ui/icons/Add'\nimport RemoveIcon from '@material-ui/icons/Remove'\n\nconst diceSizeSelector = makeDiceSizeSelector()\n\nexport const DiceSizeChanger: FC = () => {\n  const diceSize = useSelector(diceSizeSelector)\n  const increase = useDispatchedCallback(increaseDiceSize())\n  const decrease = useDispatchedCallback(decreaseDiceSize())\n\n  return (\n    <>\n      <ListDivider />\n      <ListItem\n        button={false}\n        icon={\n          <ButtonGroup>\n            <Button onClick={increase} disabled={diceSize === maxDiceSize}>\n              <AddIcon />\n            </Button>\n            <Button onClick={decrease} disabled={diceSize === minDiceSize}>\n              <RemoveIcon />\n            </Button>\n          </ButtonGroup>\n        }\n      >\n        {i18n('diceSize')}\n      </ListItem>\n    </>\n  )\n}\n","import { createSelector } from 'reselect'\nimport { diceSize } from '../pureSelectors/diceSize'\nimport { simpleCombiner } from '../combiners/simpleCombiner'\n\nexport const makeDiceSizeSelector = () => createSelector(diceSize, simpleCombiner)\n","import React, { ComponentType, FC } from 'react'\n\nexport interface VisibilityHOCProps {\n  hidden: boolean\n}\n\n/**\n * @deprecated\n */\nexport const visibilityHOC = (Component: any /*<--TODO*/): FC<VisibilityHOCProps> => ({ hidden, ...restProps }) => {\n\n  if (hidden) {\n    return null\n  }\n\n  return (\n    <Component {...restProps} />\n  )\n}\n\n\nexport const visibilityHOC_2 = <T extends {}>(\n  WrappedComponent: ComponentType<T>,\n): FC<T & VisibilityHOCProps> => ({\n  hidden,\n  ...restProps\n}) => {\n\n  if (hidden) {\n    return null\n  }\n\n  return (\n    <WrappedComponent {...restProps as T} />\n  )\n}\n","import { Selector } from '../../helpers/types'\nimport { GamePhases } from '../reducers/gamePhase'\n\nexport const gamePhase: Selector<GamePhases> = ({ gamePhase }) => gamePhase\n","import { createSelector } from 'reselect'\nimport { gamePhase } from '../pureSelectors/gamePhase'\nimport { simpleCombiner } from '../combiners/simpleCombiner'\n\nexport const makeGamePhaseSelector = () => createSelector(gamePhase, simpleCombiner)\n","import { visibilityHOC_2 } from './visibilityHOC'\nimport { makeGamePhaseSelector } from '../redux/selectors/makeGamePhaseSelector'\nimport React, { ComponentType, FC } from 'react'\nimport { useSelector } from 'react-redux'\nimport { GamePhases } from '../redux/reducers/gamePhase'\n\nexport const notInPlayVisibilityHOC = <T extends {}>(Component: ComponentType): FC<T> => {\n  const gamePhaseSelector = makeGamePhaseSelector()\n\n  return () => {\n    const ComponentWithHOC = visibilityHOC_2(Component)\n    const gamePhase = useSelector(gamePhaseSelector)\n\n    return (\n      <ComponentWithHOC\n        hidden={gamePhase !== GamePhases.IN_PLAY}\n      />\n    )\n  }\n}\n","import styled from '@material-ui/styles/styled'\nimport DialogContent from '@material-ui/core/DialogContent'\n\nexport const DialogContentStyled = styled(DialogContent)({\n  minWidth: '30em',\n  padding: '2em 0',\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n})\n","/*tslint:disable:no-magic-numbers*/\nimport styled from '@material-ui/styles/styled'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport { Themed } from '../../../../../helpers/types'\nimport yellow from '@material-ui/core/colors/yellow'\n\nexport const WarningIconStyled = styled(WarningIcon)(({ theme: { spacing } }: Themed) => ({\n  marginRight: spacing(1),\n  color: yellow.A700,\n}))\n","import styled from '@material-ui/styles/styled'\nimport ReplayIcon from '@material-ui/icons/Replay'\n\nexport const ReplayIconStyled = styled(ReplayIcon)({\n  marginLeft: '.5em',\n})\n","import { ThunkAction } from '../../helpers/types'\nimport { resetDices } from '../reducers/dices'\nimport { unselectAllDices } from '../reducers/dicesSelected'\nimport { changeGamePhase, GamePhases } from '../reducers/gamePhase'\nimport { resetPlayerMove } from '../reducers/playerMove'\nimport { resetPlayerPoints } from '../reducers/playerPoints'\nimport { resetHistory } from '../reducers/history'\nimport { ActiveTab, changeActiveTab } from '../reducers/activeTab'\n\nexport const restartGameThunk: ThunkAction = () => (dispatch) => {\n  dispatch(resetPlayerMove())\n  dispatch(resetPlayerPoints())\n  dispatch(resetDices())\n  dispatch(resetHistory())\n  dispatch(unselectAllDices())\n  dispatch(changeGamePhase(GamePhases.PRE_GAME))\n  dispatch(changeActiveTab(ActiveTab.SETTINGS))\n}\n","import { Selector } from '../../helpers/types'\nimport { TableSizes } from '../reducers/tableSize'\n\nexport const tableSize: Selector<TableSizes> = ({ tableSize }) => tableSize\n","import { createSelector } from 'reselect'\nimport { tableSize } from '../pureSelectors/tableSize'\nimport { simpleCombiner } from '../combiners/simpleCombiner'\n\nexport const makeTableSizeSelector = () => createSelector(tableSize, simpleCombiner)\n","import React, { FC } from 'react'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport { useSelector } from 'react-redux'\nimport { makeTableSizeSelector } from '../../../../../redux/selectors/makeTableSizeSelector'\n\nconst tableSizeSelector = makeTableSizeSelector()\n\nexport const CheckboxAsIcon: FC = () => {\n  const tableSize = useSelector(tableSizeSelector)\n\n  return (\n    <Checkbox\n      color=\"default\"\n      checked={tableSize === 'small'}\n    />\n  )\n}\n","import React, { FC } from 'react'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport { useSelector } from 'react-redux'\nimport { makeActiveFirstSelector } from '../../../../../redux/reducers/activeFirst'\n\nconst activeFirstSelector = makeActiveFirstSelector()\n\nexport const CheckboxAsIcon: FC = () => {\n  const activeFirst = useSelector(activeFirstSelector)\n\n  return (\n    <Checkbox\n      color=\"default\"\n      checked={activeFirst}\n    />\n  )\n}\n","import update from 'immutability-helper'\nimport { Move } from '../reducers/playerMove'\nimport { Player } from '../reducers/players'\nimport { ActiveFirst } from '../reducers/activeFirst'\n\ntype Players = Player[]\n\ntype Reorder = (array: Players, playerMove: Move, activeFirst: ActiveFirst) => Players\n\nexport const reorderPlayersByIdCombiner: Reorder = (players, { 0: playerId }, activeFirst) => {\n\n  if (!activeFirst) {\n    return players\n  }\n\n  const activeIndex = players.findIndex(({ id }) => id === playerId)\n  const beforeArr = players.slice(0, activeIndex)\n  const arr = update(players, { $splice: [[0, activeIndex]] })\n\n  return ([] as Players).concat(arr, beforeArr)\n}\n","import { Selector } from '../../helpers/types'\nimport { Player } from '../reducers/players'\n\nexport const players: Selector<Player[]> = ({ players }) => players\n","import { Selector } from '../../helpers/types'\nimport { Move } from '../reducers/playerMove'\n\nexport const playerMove: Selector<Move> = ({ playerMove }) => playerMove\n","import { createSelector } from 'reselect'\nimport { reorderPlayersByIdCombiner } from '../combiners/reorderPlayersByIdCombiner'\nimport { players } from '../pureSelectors/players'\nimport { playerMove } from '../pureSelectors/playerMove'\nimport { activeFirstSelector } from '../reducers/activeFirst'\n\nexport const makePlayersSelector = () => createSelector(players, playerMove, activeFirstSelector, reorderPlayersByIdCombiner)\n","import React, { FC } from 'react'\nimport { ListDivider } from '../ListParts/ListDivider'\nimport { ListItem } from '../ListParts/ListItem'\nimport { CheckboxAsIcon } from './CheckboxAsIcon'\nimport { i18n } from '../../../../../helpers/i18n/i18n'\nimport { useDispatchedCallback } from '../../../../../helpers/useDispatchedCallback'\nimport { toggleActiveFirstThunk } from '../../../../../redux/reducers/activeFirst'\nimport { makePlayersSelector } from '../../../../../redux/selectors/makePlayersSelector'\nimport { useSelector } from 'react-redux'\n\nconst playersSelector = makePlayersSelector()\n\nexport const ActiveFirstButton: FC = () => {\n  const onClick = useDispatchedCallback(toggleActiveFirstThunk())\n  const players = useSelector(playersSelector)\n\n  if (players.length <= 1) {\n    return null\n  }\n\n  return (\n    <>\n      <ListDivider />\n      <ListItem onClick={onClick} icon={<CheckboxAsIcon />}>\n        {i18n('activePlayerFirst')}\n      </ListItem>\n    </>\n  )\n}\n","import React, { FC } from 'react'\nimport List from '@material-ui/core/List'\nimport { ThemeToggler } from './ThemeToggler/ThemeToggler'\nimport { LangChangeButtons } from './LangChangeButtons/LangChangeButtons'\nimport { DiceSizeChanger as DiceSizeChangerComponent } from './DiceSizeChanger/DiceSizeChanger'\nimport { notInPlayVisibilityHOC } from '../../../../helpers/notInPlayVisibilityHOC'\nimport { RestartGameButton } from './RestartGameButton/RestartGameButton'\nimport { ChangeTableSizeButton } from './ChangeTableSizeButton/ChangeTableSizeButton'\nimport { ActiveFirstButton } from './ActiveFirstButton/ActiveFirstButton'\n\nconst RestartGame = notInPlayVisibilityHOC(RestartGameButton)\nconst ChangeTableSize = notInPlayVisibilityHOC(ChangeTableSizeButton)\nconst DiceSizeChanger = notInPlayVisibilityHOC(DiceSizeChangerComponent)\nconst ActiveFirst = notInPlayVisibilityHOC(ActiveFirstButton)\n\nexport const SettingsTabContent: FC = () => (\n  <List>\n    <ThemeToggler />\n    <LangChangeButtons />\n    <DiceSizeChanger />\n    <ChangeTableSize />\n    <ActiveFirst />\n    <RestartGame />\n  </List>\n)\n\n","import React, { FC, useCallback, useState } from 'react'\nimport Button from '@material-ui/core/Button'\nimport { i18n } from '../../../../../helpers/i18n/i18n'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport { DialogContentStyled } from './DialogContentStyled'\nimport { WarningIconStyled } from './WarningIconStyled'\nimport { ListItem } from '../ListParts/ListItem'\nimport { ListDivider } from '../ListParts/ListDivider'\nimport { ReplayIconStyled } from './ReplayIconStyled'\nimport { useDispatch } from 'react-redux'\nimport { restartGameThunk } from '../../../../../redux/actions/restartGameThunk'\n\nexport const RestartGameButton: FC = () => {\n  const [open, setOpen] = useState(false)\n  const openModal = useCallback(() => setOpen(true), [])\n  const closeModal = useCallback(() => setOpen(false), [])\n\n  const dispatch = useDispatch()\n  const restartGame = useCallback(\n    () => {\n      closeModal()\n      dispatch(restartGameThunk())\n    },\n    [closeModal, dispatch],\n  )\n\n  return (\n    <>\n      <ListDivider />\n      <ListItem icon={<ReplayIconStyled />} onClick={openModal}>\n        {i18n('button.restartGame')}\n      </ListItem>\n      <Dialog open={open} onClose={closeModal}>\n        <DialogTitle>\n          {i18n('button.restartGame')}?\n        </DialogTitle>\n        <DialogContentStyled>\n          <WarningIconStyled />\n          {i18n('currentGameWillBeLost')}\n        </DialogContentStyled>\n        <DialogActions>\n          <Button onClick={closeModal}>\n            {i18n('button.cancel')}\n          </Button>\n          <Button variant=\"contained\" color=\"secondary\" onClick={restartGame}>\n            {i18n('button.restartGame')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  )\n}\n","import React, { FC } from 'react'\nimport { i18n } from '../../../../../helpers/i18n/i18n'\nimport { ListItem } from '../ListParts/ListItem'\nimport { ListDivider } from '../ListParts/ListDivider'\nimport { toggleSize } from '../../../../../redux/reducers/tableSize'\nimport { useDispatchedCallback } from '../../../../../helpers/useDispatchedCallback'\nimport { CheckboxAsIcon } from './CheckboxAsIcon'\n\nexport const ChangeTableSizeButton: FC = () => {\n  const onClick = useDispatchedCallback(toggleSize())\n\n  return (\n    <>\n      <ListDivider />\n      <ListItem onClick={onClick} icon={<CheckboxAsIcon />}>\n        {i18n('compactTable')}\n      </ListItem>\n    </>\n  )\n}\n","import styled from '@material-ui/styles/styled'\nimport { Themed } from '../../../helpers/types'\nimport { conditionalCSS } from '../../../helpers/conditionalCSS'\nimport { cwp } from '../../../helpers/cwp'\n\ninterface TabContentProps {\n  padding?: boolean\n}\n\nexport const TabContent = styled(\n  cwp('section')<TabContentProps>('padding'),\n)(({\n  theme: { drawerTabsCount, spacing },\n  padding = true,\n}: Themed<TabContentProps>) => conditionalCSS([\n  [padding, {\n    padding: spacing(2),\n  }],\n  {\n    width: `${100 / drawerTabsCount}%`,\n    boxSizing: 'border-box',\n    overflowY: 'auto',\n  },\n]))\n","import styled from '@material-ui/styles/styled'\nimport { Themed } from '../../../helpers/types'\nimport { ActiveTab } from '../../../redux/reducers/activeTab'\nimport { cwp } from '../../../helpers/cwp'\n\nexport interface TabsContainerInnerProps {\n  activeTab?: ActiveTab\n}\n\nexport const TabsContainerInner = styled(\n  cwp()<TabsContainerInnerProps>('activeTab'),\n)(({\n  theme: { transitions: { duration: { standard } }, drawerTabsCount },\n  activeTab = 0,\n}: Themed<TabsContainerInnerProps>) => ({\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  bottom: 0,\n  overflow: 'hidden',\n  width: `${100 * drawerTabsCount}%`,\n  display: 'flex',\n  flexDirection: 'row',\n  marginLeft: `-${100 * activeTab}%`,\n  transitionDuration: `${standard}ms`,\n}))\n","import styled from '@material-ui/styles/styled'\nimport { TabsContainerInnerProps, TabsContainerInner } from './TabsContainerInner'\nimport React, { FC } from 'react'\nimport { useSelector } from 'react-redux'\nimport { makeActiveTabSelector } from '../../../redux/reducers/activeTab'\n\nconst Wrapper: FC<TabsContainerInnerProps> = ({\n  activeTab,\n  children,\n  ...rest\n}) => (\n  <div {...rest}>\n    <TabsContainerInner activeTab={activeTab}>\n      {children}\n    </TabsContainerInner>\n  </div>\n)\n\nconst activeTabSelector = makeActiveTabSelector()\n\nexport const TabsContainer = styled(\n  (props) => {\n    const activeTab = useSelector(activeTabSelector)\n\n    return (\n      <Wrapper activeTab={activeTab} {...props} />\n    )\n  }\n)(() => ({\n  position: 'relative',\n  flex: 1,\n  overflow: 'hidden',\n}))\n","import React, { FC } from 'react'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport { Tooltip } from '@material-ui/core'\nimport { makePlayersSelector } from '../../../../redux/selectors/makePlayersSelector'\nimport { useSelector } from 'react-redux'\nimport {\n  makeHistoryFollowActivePlayerSelector, toggleHistoryFollowActivePlayerThunk,\n} from '../../../../redux/reducers/historyFollowActivePlayer'\nimport { i18n } from '../../../../helpers/i18n/i18n'\nimport { useDispatchedCallback } from '../../../../helpers/useDispatchedCallback'\n\nconst playersSelector = makePlayersSelector()\nconst historyFollowActivePlayerSelector = makeHistoryFollowActivePlayerSelector()\n\nexport const FollowActivePlayerCheckbox: FC = () => {\n  const players = useSelector(playersSelector)\n  const historyFollowActivePlayer = useSelector(historyFollowActivePlayerSelector)\n  const onChange = useDispatchedCallback(toggleHistoryFollowActivePlayerThunk())\n\n  if (players.length < 2) {\n    return null\n  }\n\n  return (\n    <Tooltip placement=\"top\" title={i18n('history.checkbox.followActivePlayer')}>\n      <Checkbox\n        color=\"default\"\n        checked={historyFollowActivePlayer}\n        onChange={onChange}\n      />\n    </Tooltip>\n  )\n}\n","import React, { FC } from 'react'\nimport Typography from '@material-ui/core/Typography'\nimport Grid from '@material-ui/core/Grid'\nimport { FollowActivePlayerCheckbox } from './FollowActivePlayerCheckbox'\nimport { cropString } from '../../../../helpers/css'\nimport styled from '@material-ui/styles/styled'\nimport { Themed } from '../../../../helpers/types'\n\nconst SelectWrapper: FC = ({\n  children,\n  ...rest\n}) => (\n  <Typography component=\"div\" {...rest}>\n    <Grid\n      component=\"div\"\n      alignItems=\"center\"\n      justify=\"space-between\"\n      wrap=\"nowrap\"\n      container\n      spacing={1}\n    >\n      <Grid item style={{ ...cropString, flex: 1 }}>\n        {children}\n      </Grid>\n      <Grid item>\n        <FollowActivePlayerCheckbox />\n      </Grid>\n    </Grid>\n  </Typography>\n)\n\nexport const SelectWrapperStyled = styled(SelectWrapper)(({ theme: { spacing } }: Themed) => ({\n  margin: spacing(2),\n}))\n","import React, { ChangeEvent, FC, useCallback } from 'react'\nimport { useSelector } from 'react-redux'\nimport Select from '@material-ui/core/Select'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport { makePlayersSelector } from '../../../../redux/selectors/makePlayersSelector'\nimport { cropStringBy } from '../../../../helpers/cropStringBy'\nimport { i18n } from '../../../../helpers/i18n/i18n'\nimport { SelectWrapperStyled } from './SelectWrapperStyled'\nimport { Typography } from '@material-ui/core'\nimport { Move } from '../../../../redux/reducers/playerMove'\n\nconst playersSelector = makePlayersSelector()\n\ninterface HistoryTabContentHeaderProps {\n  playerId: Move[0]\n  setPlayerId(value: Move[0]): void\n}\n\nexport const HistoryTabContentHeader: FC<HistoryTabContentHeaderProps> = ({ playerId, setPlayerId }) => {\n  const players = useSelector(playersSelector)\n\n  const handleChange = useCallback(\n    ({ target: { value } }: ChangeEvent<{ value: unknown }>) => setPlayerId(value as Move[0]),\n    [setPlayerId],\n  )\n\n  return players.length > 1 ? (\n    <SelectWrapperStyled>\n      <FormControl>\n        <InputLabel>\n          {i18n('history.user.label')}\n        </InputLabel>\n        <Select value={playerId} onChange={handleChange}>\n          {players.map(({ id, name }) => (\n            <MenuItem key={id} value={id}>\n              {cropStringBy((name || ''), 30)}\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n    </SelectWrapperStyled>\n  ) : (\n    <Typography variant=\"h5\" align=\"center\" style={{ margin: '16px 0' }}>\n      {i18n('history.header')}\n    </Typography>\n  )\n}\n\n","export const cropStringBy = (str: string, newStringLength: number): string => (\n  `${str.substring(0, newStringLength)}${str.length > newStringLength ? '...' : ''}`\n)\n","/*tslint:disable:no-magic-numbers*/\nimport styled from '@material-ui/styles/styled'\nimport Grid from '@material-ui/core/Grid'\nimport React from 'react'\nimport { conditionalCSS } from '../../../../helpers/conditionalCSS'\nimport { Themed } from '../../../../helpers/types'\nimport { ModalProps } from '@material-ui/core/Modal'\n\ninterface GridContainerProps extends Partial<Pick<ModalProps, 'open'>> {\n}\n\nexport const GridContainer = styled(\n  (props) => (\n    <Grid\n      container\n      alignItems=\"flex-start\"\n      justify=\"space-around\"\n      {...props}\n    />\n  ),\n)(({ theme: { palette: { action: { hover } } }, open }: Themed<GridContainerProps>) => conditionalCSS([\n  [open, {\n    background: hover,\n  }],\n  {\n    cursor: 'pointer',\n    '&:hover': {\n      background: hover,\n    },\n  },\n]))\n","import styled from '@material-ui/styles/styled'\nimport Grid from '@material-ui/core/Grid'\nimport { Themed } from '../../../../helpers/types'\nimport { conditionalCSS } from '../../../../helpers/conditionalCSS'\nimport { cwp } from '../../../../helpers/cwp'\n\ninterface GridItemProps {\n  strikeOut?: boolean\n  altColor?: boolean\n  altAlign?: boolean\n  active?: boolean\n}\n\nexport const GridItem = styled(\n  cwp(Grid)<GridItemProps>('strikeOut', 'altColor', 'altAlign', 'active'),\n)(({\n  theme: { spacing, palette: { action: { disabled }, error: { light }, success: { dark } } },\n  strikeOut, altColor, altAlign, active,\n}: Themed<GridItemProps>) => conditionalCSS([\n  {\n    padding: spacing(1),\n  },\n  [strikeOut, {\n    textDecoration: 'line-through',\n    color: light,\n  }],\n  [altColor, {\n    color: disabled,\n  }],\n  [altAlign, {\n    textAlign: 'right',\n  }],\n  [active, {\n    color: dark,\n  }],\n]))\n","import styled from '@material-ui/styles/styled'\nimport { Themed } from '../../../helpers/types'\nimport { cwp } from '../../../helpers/cwp'\n\nexport const $wrapWidth = 1.8\nexport const $delay = 300\n\ninterface DiceInnerProps {\n  roll?: boolean\n  selected?: boolean\n}\n\nexport const DiceInner = styled(\n  cwp()<DiceInnerProps>('roll', 'selected'),\n)(({\n  roll, selected,\n  theme: { palette: { type, common: { white, black }, text: { disabled } } },\n}: Themed<DiceInnerProps>) => ({\n\n  display: 'flex',\n  flexWrap: 'wrap',\n  background: type === 'dark' ? black : white,\n  borderRadius: '.2em',\n\n  width: `${$wrapWidth}em`,\n  minWidth: `${$wrapWidth}em`,\n  maxWidth: `${$wrapWidth}em`,\n  height: `${$wrapWidth}em`,\n\n  transitionDuration: `${$delay / 1000}s`,\n\n  transform: roll ? 'rotate(359deg)' : 'none',\n\n  // marginTop: roll || selected ? '-.1em' : 0,\n\n  boxShadow: selected\n    ? type === 'dark'\n      ? `${disabled} 0 0 0 2px`\n      : '0 0 .2em rgba(0, 0, 0, 1)'\n    : '0 0 .1em rgba(0, 0, 0, .4)',\n}))\n","import React from 'react'\nimport styled from '@material-ui/styles/styled'\nimport { $delay, $wrapWidth } from './DiceInner'\nimport { Themed } from '../../../helpers/types'\n\ninterface DotProps {\n  roll?: boolean\n  filled?: boolean\n}\n\nexport const DiceDot = styled(\n  ({ filled, roll, ...rest }: DotProps) => (\n    <div {...rest}>\n      <div />\n    </div>\n  ),\n)(({ filled, roll, theme: { palette: { type, grey, common: { black } } } }: Themed<DotProps>) => ({\n\n  minWidth: `${$wrapWidth / 3}em`,\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n\n  '& div': {\n    width: '80%',\n    height: '80%',\n    borderRadius: '50%',\n\n    transitionProperty: 'background',\n    transitionDuration: `${$delay / 1000}s`,\n\n    boxShadow: filled && type === 'dark'\n      ? 'inset 0 0 .1em rgba(0, 0, 0, .8)'\n      : 'none',\n\n    background: filled\n      ? roll\n        ? 'transparent'\n        : type === 'dark' ? grey['300'] : black\n      : 'transparent',\n  },\n}))\n","import styled from '@material-ui/styles/styled'\n\nconst $width = 2\n\nexport const DiceWrapper = styled('div')({\n  width: `${$width}em`,\n  minWidth: `${$width}em`,\n  maxWidth: `${$width}em`,\n  height: `${$width}em`,\n  margin: `${$width / 6}em`,\n  flexWrap: 'wrap',\n  flexGrow: 1,\n})\n","import React, { FC } from 'react'\nimport { DiceDot } from './DiceDot'\nimport { DiceWrapper } from './DiceWrapper'\nimport { DiceInner } from './DiceInner'\n\nconst dots: { [key: number]: number[] } = {\n  1: [5],\n  2: [1, 9],\n  3: [1, 5, 9],\n  4: [1, 3, 7, 9],\n  5: [1, 3, 5, 7, 9],\n  6: [1, 3, 4, 6, 7, 9],\n}\n\ninterface DiceProps {\n  value: number\n  roll?: boolean\n  selected?: boolean\n\n  onClick?(): void\n}\n\nconst array9 = [...window.Array(9).keys()]\n\nexport const Dice: FC<DiceProps> = ({ value, roll, selected, onClick }) => (\n  <DiceWrapper onClick={onClick}>\n    <DiceInner roll={roll} selected={selected}>\n      {array9.map((i) => (\n        <DiceDot\n          key={i}\n          roll={roll}\n          filled={dots[value] && dots[value].indexOf(i + 1) !== -1}\n        />\n      ))}\n    </DiceInner>\n  </DiceWrapper>\n)\n","import React, { FC } from 'react'\nimport Popover from '@material-ui/core/Popover'\nimport { Dice } from '../../../Dices/Dice/Dice'\nimport { PopoverProps } from '@material-ui/core/Popover/Popover'\nimport makeStyles from '@material-ui/core/styles/makeStyles'\nimport { Theme } from '@material-ui/core'\nimport { Move } from '../../../../redux/reducers/history'\n\ninterface HistoryItemPopoverProps extends Pick<PopoverProps, 'open' | 'anchorEl'>, Pick<Move, 'tries' | 'dicesSelected'> {\n  onClose(): void\n}\n\nconst useStyles = makeStyles<Theme>(({ spacing }) => ({\n  paper: {\n    padding: `${1 / 3}em 0 0 ${1 / 3}em`,\n    fontSize: spacing(3),\n    '& > div': {\n      display: 'flex',\n    },\n  },\n}))\n\n\nconst popoverProps: Partial<PopoverProps> = {\n  anchorOrigin: {\n    vertical: 'bottom',\n    horizontal: 'center',\n  },\n  transformOrigin: {\n    vertical: 'top',\n    horizontal: 'center',\n  },\n}\n\nexport const HistoryItemPopover: FC<HistoryItemPopoverProps> = ({\n  onClose, open, anchorEl, tries, dicesSelected: selected,\n}) => {\n  const { paper } = useStyles()\n\n  return (\n    <Popover\n      open={open}\n      anchorEl={anchorEl}\n      onClose={onClose}\n      {...popoverProps}\n      classes={{ paper }}\n    >\n      {tries.map((items, index) => (\n        <div key={index}>\n          {items.map((item, i) => (\n            <Dice\n              key={i}\n              value={item}\n              selected={selected[index] && selected[index].indexOf(i) !== -1}\n            />\n          ))}\n        </div>\n      ))}\n    </Popover>\n  )\n}\n\n","import React, { FC, useCallback, useState } from 'react'\nimport { Move } from '../../../../redux/reducers/history'\nimport { GridContainer } from './GridContainer'\nimport { GridItem } from './GridItem'\nimport { Combination } from '../../../../redux/reducers/combinations'\nimport { HistoryItemPopover } from './HistoryItemPopover'\nimport { MAX_SHOT_COUNT } from '../../../../redux/reducers/playerMove'\nimport { historyCombinationText, Tries } from '../../../../helpers/historyCombinationText'\n\ninterface HistoryItemProps extends Move {\n  index: number\n}\n\nexport const HistoryItem: FC<HistoryItemProps> = ({ tries, result, dicesSelected, index }) => {\n  const [anchorEl, setAnchorEl] = useState<HTMLDivElement | null>(null)\n  const handleClick = useCallback((e) => setAnchorEl(e.currentTarget), [])\n  const handleClose = useCallback(() => setAnchorEl(null), [])\n\n  const open = Boolean(anchorEl)\n  const combination = Object.keys(result)[0] as Combination\n  const points = result[combination]\n  const strikeOut = points === 0\n  const triesLeft = MAX_SHOT_COUNT - tries.length\n\n  return (\n    <>\n      <GridContainer open={open} onClick={handleClick}>\n        <GridItem item xs={1} strikeOut={strikeOut} altColor>\n          {++index}\n        </GridItem>\n        <GridItem item xs={8} strikeOut={strikeOut} active={combination === undefined}>\n          {historyCombinationText(combination, triesLeft as Tries)}\n        </GridItem>\n        <GridItem item xs={1} strikeOut={strikeOut} altAlign>\n          {points}\n        </GridItem>\n      </GridContainer>\n      {open && (\n        <HistoryItemPopover\n          open\n          tries={tries}\n          onClose={handleClose}\n          anchorEl={anchorEl}\n          dicesSelected={dicesSelected}\n        />\n      )}\n    </>\n  )\n}\n","import { Combination } from '../redux/reducers/combinations'\nimport { i18n } from './i18n/i18n'\n\nexport type Tries = 1 | 2\n\nexport const historyCombinationText = (combination: Combination, triesLeft: Tries): string =>\n  combination\n    ? i18n(`combination.${combination}`)\n    :\n    triesLeft > 0\n      ? i18n('history.activeMove')\n        .replace('#triesLeft#', `${triesLeft}`)\n        .replace('#tries#', i18n(triesLeft === 1 ? 'history.activeMoveTries1': 'history.activeMoveTries2'))\n      : i18n('button.writeDownYourPoints')\n","/*tslint:disable:no-magic-numbers*/\nimport styled from '@material-ui/styles/styled'\nimport { Themed } from '../../../../helpers/types'\n\nexport const NoHistoryYetStyled = styled('div')(({\n  theme: { palette: { text: { disabled } } },\n}: Themed) => ({\n  textAlign: 'center',\n  color: disabled,\n}))\n","import React, { FC } from 'react'\nimport { makeHistorySelector, Move } from '../../../../redux/reducers/history'\nimport { useSelector } from 'react-redux'\nimport { State } from '../../../../redux/defaultState'\nimport { Move as PlayerMove } from '../../../../redux/reducers/playerMove'\nimport { HistoryItem } from './HistoryItem'\nimport { i18n } from '../../../../helpers/i18n/i18n'\nimport { NoHistoryYetStyled } from './NoHistoryYetStyled'\n\nconst historySelector = makeHistorySelector()\n\ninterface HistoryTabContentDataProps {\n  playerId: PlayerMove[0]\n}\n\nexport const HistoryTabContentData: FC<HistoryTabContentDataProps> = ({ playerId }) => {\n  const playerHistory = useSelector<State, Move[]>(\n    (state) => historySelector(state, { playerId }),\n  )\n\n  return (\n    <>\n      {playerHistory.length ? playerHistory.map(({ tries, result, dicesSelected }, index) => (\n        <HistoryItem\n          key={index}\n          index={index}\n          tries={tries}\n          result={result}\n          dicesSelected={dicesSelected}\n        />\n      )) : (\n        <NoHistoryYetStyled>\n          {i18n('history.noHistoryYet')}\n        </NoHistoryYetStyled>\n      )}\n    </>\n  )\n}\n","import { createSelector } from 'reselect'\nimport { simpleCombiner } from '../combiners/simpleCombiner'\nimport { playerMove } from '../pureSelectors/playerMove'\n\nexport const makePlayerMoveSelector = () => createSelector(playerMove, simpleCombiner)\n\n","import React, { FC, useEffect, useState } from 'react'\nimport { HistoryTabContentHeader } from './HistoryTabContentHeader'\nimport { HistoryTabContentData } from './HistoryTabContentData'\nimport { useSelector } from 'react-redux'\nimport { makePlayerMoveSelector } from '../../../../redux/selectors/makePlayerMoveSelector'\nimport { makeHistoryFollowActivePlayerSelector } from '../../../../redux/reducers/historyFollowActivePlayer'\n\nconst playerMoveSelector = makePlayerMoveSelector()\nconst historyFollowActivePlayerSelector = makeHistoryFollowActivePlayerSelector()\n\nexport const HistoryTabContent: FC = () => {\n  const [activePlayerId] = useSelector(playerMoveSelector)\n  const historyFollowActivePlayer = useSelector(historyFollowActivePlayerSelector)\n  const [playerId, setPlayerId] = useState(activePlayerId)\n\n  useEffect(\n    () => {\n      if (historyFollowActivePlayer) {\n        setPlayerId(activePlayerId)\n      }\n    },\n    [activePlayerId, historyFollowActivePlayer],\n  )\n\n  return (\n    <>\n      <HistoryTabContentHeader playerId={playerId} setPlayerId={setPlayerId} />\n      <HistoryTabContentData playerId={playerId} />\n    </>\n  )\n}\n","import React, { FC } from 'react'\nimport { DrawerStyled } from './DrawerStyled'\nimport { Tabs as OriginalTabs } from './Tabs/Tabs'\n\nimport { SettingsTabContent } from './TabsContent/SettingsTabContent/SettingsTabContent'\nimport { TabContent } from './Tabs/TabContent'\nimport { TabsContainer } from './Tabs/TabsContainer'\nimport { notInPlayVisibilityHOC } from '../../helpers/notInPlayVisibilityHOC'\n// import { CombinationsTabContent } from './TabsContent/CombinationsTabContent/CombinationsTabContent'\n// import { RulesTabContent } from './TabsContent/RulesTabContent/RulesTabContent'\nimport { HistoryTabContent } from './TabsContent/HistoryTabContent/HistoryTabContent'\n\nconst Tabs = notInPlayVisibilityHOC(OriginalTabs)\n// const CombinationsTab = notInPlayVisibilityHOC(CombinationsTabContent)\n// const RulesTab = notInPlayVisibilityHOC(RulesTabContent)\nconst HistoryTab = notInPlayVisibilityHOC(HistoryTabContent)\n\nexport const Drawer: FC = () => (\n  <DrawerStyled>\n    <Tabs />\n    <TabsContainer>\n      <TabContent padding={false}>\n        <SettingsTabContent />\n      </TabContent>\n      {/*\n      <TabContent>\n        <CombinationsTab />\n      </TabContent>\n      <TabContent>\n        <RulesTab />\n      </TabContent>\n      */}\n      <TabContent padding={false}>\n        <HistoryTab />\n      </TabContent>\n    </TabsContainer>\n  </DrawerStyled>\n)\n","import React, { FC } from 'react'\nimport { Inner, Push } from './MainLayoutParts'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport { TopMenu } from '../TopMenu/TopMenu'\nimport { Wrapper, Footer } from './MainLayoutConnected'\nimport { useGlobalStyles } from './useGlobalStyles'\nimport { Drawer } from '../Drawer/Drawer'\n\nexport const MainLayout: FC = ({ children }) => {\n  useGlobalStyles()\n\n  return (\n    <>\n      <CssBaseline />\n      <TopMenu />\n      <Drawer />\n      <Wrapper>\n        <Inner>\n          {children}\n        </Inner>\n        <Push />\n      </Wrapper>\n      <Footer>bonez &copy; 2019</Footer>\n    </>\n  )\n}\n","import { useDispatch } from 'react-redux'\n\nimport { changeGamePhase, GamePhases } from '../../redux/reducers/gamePhase'\nimport Button from '@material-ui/core/Button'\nimport { i18n } from '../../helpers/i18n/i18n'\nimport React, { FC, useCallback } from 'react'\n\nexport const StartGameButton: FC = () => {\n  const dispatch = useDispatch();\n  const onClick = useCallback(\n    () => dispatch(changeGamePhase(GamePhases.PLAYERS_SELECTION)),\n    [dispatch],\n  )\n\n  return (\n    <Button\n      variant=\"contained\"\n      size=\"large\"\n      color=\"primary\"\n      onClick={onClick}\n    >\n      {i18n('button.startNewGame')}\n    </Button>\n  )\n}\n","import styled from '@material-ui/styles/styled'\nimport { Themed } from '../../../helpers/types'\n\nexport const ButtonsWrapper = styled('div')(({\n  theme: { spacing, breakpoints: { down } },\n}: Themed) => ({\n  '& button': {\n    marginRight: spacing(2),\n    marginBottom: spacing(2),\n  },\n  [down('xs')]: {\n    display: 'flex',\n    flexDirection: 'column',\n    margin: spacing(4, 2),\n    '& button': {\n      marginBottom: spacing(4),\n      marginRight: 0,\n    },\n  },\n}))\n","import { connect } from 'react-redux'\nimport Button, { ButtonProps } from '@material-ui/core/Button'\nimport { i18n } from '../../../helpers/i18n/i18n'\nimport { changeGamePhase, GamePhases } from '../../../redux/reducers/gamePhase'\nimport CloseIcon from '@material-ui/icons/Close'\nimport React from 'react'\n\nexport interface CancelStartGameButtonProps\n  extends Pick<ButtonProps, 'size' | 'variant' | 'color' | 'children' | 'onClick' | 'startIcon'> {\n}\n\nexport const CancelStartGameButtonConnected = connect(\n  null,\n  { changeGamePhase },\n  (_, { changeGamePhase }): CancelStartGameButtonProps => ({\n    variant: 'contained',\n    color: 'secondary',\n    children: i18n('button.cancel'),\n    size: 'small',\n    onClick() {\n      changeGamePhase(GamePhases.PRE_GAME)\n    },\n    startIcon: <CloseIcon />\n  }),\n)(Button)\n","import { ThunkAction } from '../../helpers/types'\nimport { nextTurn } from '../reducers/playerMove'\n\nexport const nextTurnThunk: ThunkAction = () => (dispatch, getState) => {\n  const state = getState()\n  let { playerMove: { 0: playerId } } = state\n  const { players } = state\n\n  if (!playerId) {\n    playerId = players[0].id\n  } else {\n    const index = players.findIndex(({ id }) => id === playerId)\n    const player = players[index + 1]\n    playerId = player ? player.id : state.players[0].id\n  }\n\n  dispatch(nextTurn([playerId, 0]))\n}\n","import { connect } from 'react-redux'\nimport Button, { ButtonProps } from '@material-ui/core/Button'\nimport { i18n } from '../../../helpers/i18n/i18n'\nimport { ChangeGamePhase, changeGamePhase, GamePhases } from '../../../redux/reducers/gamePhase'\nimport { compose } from 'redux'\nimport { visibilityHOC, VisibilityHOCProps } from '../../../helpers/visibilityHOC'\nimport { State } from '../../../redux/defaultState'\nimport { PlayersState } from '../../../redux/reducers/players'\nimport { ThunkAction } from '../../../helpers/types'\nimport { nextTurnThunk } from '../../../redux/actions/nextTurnThunk'\n\ninterface MapStateToProps extends PlayersState {\n}\n\ninterface MapDispatchToProps {\n  changeGamePhase: ChangeGamePhase\n  nextTurnThunk: ThunkAction\n}\n\nexport interface StartGameButtonProps extends Pick<ButtonProps, 'size' | 'variant' | 'color' | 'onClick' | 'children'> {\n}\n\nexport const StartGameButtonConnected = compose(\n  connect<MapStateToProps, MapDispatchToProps, {}, StartGameButtonProps & VisibilityHOCProps, State>(\n    ({ players }) => ({\n      players,\n    }),\n    { changeGamePhase, nextTurnThunk },\n    ({ players }, { changeGamePhase, nextTurnThunk }): StartGameButtonProps & VisibilityHOCProps => ({\n      variant: 'contained',\n      color: 'primary',\n      size: 'large',\n      children: i18n('button.startGame'),\n      onClick() {\n        // TODO: refactor this to Thunk Action\n        changeGamePhase(GamePhases.IN_PLAY)\n        nextTurnThunk()\n      },\n\n      hidden: players.length === 0,\n    }),\n  ),\n  visibilityHOC,\n)(Button)\n","import styled from '@material-ui/styles/styled'\nimport { Themed } from '../../../helpers/types'\nimport Paper from '@material-ui/core/Paper'\n\nexport const PlayersListPaper = styled(Paper)(({ theme: { spacing } }: Themed) => ({\n  marginBottom: spacing(2),\n  maxWidth: spacing(75),\n}))\n","import { connect } from 'react-redux'\n\nimport { PlayersList } from './PlayersList'\nimport { State } from '../../../redux/defaultState'\nimport {\n  PlayersState,\n  RemovePlayer,\n  removePlayer,\n} from '../../../redux/reducers/players'\nimport { compose } from 'redux'\nimport { visibilityHOC, VisibilityHOCProps } from '../../../helpers/visibilityHOC'\n\ninterface MapStateToProps extends PlayersState {\n}\n\ninterface MapDispatchToProps {\n  removePlayer: RemovePlayer\n}\n\nexport interface PlayersListProps extends MapStateToProps, MapDispatchToProps {\n}\n\nexport const PlayersListConnected = compose(\n  connect<MapStateToProps, MapDispatchToProps, {}, PlayersListProps & VisibilityHOCProps, State>(\n    ({ players }) => ({\n      players,\n    }),\n    { removePlayer },\n    (\n      { players },\n      { removePlayer },\n    ): PlayersListProps & VisibilityHOCProps => ({\n      players,\n      removePlayer,\n\n      hidden: players.length === 0,\n    }),\n  ),\n  visibilityHOC,\n)(PlayersList)\n","import React, { FC, Fragment } from 'react'\nimport { PlayersListProps } from './PlayersListConnected'\nimport { i18n } from '../../../helpers/i18n/i18n'\nimport IconButton from '@material-ui/core/IconButton'\nimport ClearIcon from '@material-ui/icons/Clear'\nimport PersonIcon from '@material-ui/icons/Person'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar'\nimport Avatar from '@material-ui/core/Avatar'\nimport Divider from '@material-ui/core/Divider'\nimport { PlayersListPaper } from './PlayersListPaper'\n\nexport const PlayersList: FC<PlayersListProps> = ({ players, removePlayer }) => (\n  <PlayersListPaper>\n    <List>\n      {players.map(({ id, name }, index) => (\n        <Fragment key={id}>\n          <ListItem>\n            <ListItemAvatar>\n              <Avatar>\n                <PersonIcon />\n              </Avatar>\n            </ListItemAvatar>\n            <ListItemText>\n              <span>{i18n('playerNo')}{index + 1}:&nbsp;</span>\n              <span>{name}</span>\n            </ListItemText>\n            <ListItemSecondaryAction>\n              <IconButton onClick={() => removePlayer(id)}>\n                <ClearIcon fontSize=\"inherit\" />\n              </IconButton>\n            </ListItemSecondaryAction>\n          </ListItem>\n          {((index + 1) < players.length) && (\n            <Divider variant=\"inset\" component=\"li\" />\n          )}\n        </Fragment>\n      ))}\n    </List>\n  </PlayersListPaper>\n)\n","/*tslint:disable:no-magic-numbers*/\nimport styled from '@material-ui/styles/styled'\nimport DialogContent from '@material-ui/core/DialogContent'\n\nexport const DialogContentStyled = styled(DialogContent)({\n  paddingTop: '2em',\n  paddingBottom: '2em',\n  minWidth: '20em',\n})\n","import { connect } from 'react-redux'\n\nimport { AddPlayer } from './AddPlayer'\nimport { addPlayer, AddPlayer as AddPlayerType } from '../../../redux/reducers/players'\nimport { compose } from 'redux'\nimport { visibilityHOC, VisibilityHOCProps } from '../../../helpers/visibilityHOC'\nimport { State } from '../../../redux/defaultState'\n\ninterface MapDispatchToProps {\n  addPlayer: AddPlayerType\n}\n\nexport interface AddPlayerProps extends MapDispatchToProps {\n}\n\nexport const AddPlayerConnected = compose(\n  connect(\n    ({ players }: State) => ({\n      players,\n    }),\n    { addPlayer },\n    ({ players }, { addPlayer }): AddPlayerProps & VisibilityHOCProps => ({\n      addPlayer,\n\n      hidden: players.length > 4,\n    }),\n  ),\n  visibilityHOC,\n)(AddPlayer)\n","export const makeId = (): string => (\n  'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n    const r = Math.random() * 16 | 0\n    // eslint-disable-next-line\n    const v = c == 'x' ? r : (r&0x3|0x8)\n    return v.toString(16)\n  })\n)\n","import React, { ChangeEvent, FC, FormEvent, useState } from 'react'\nimport Button from '@material-ui/core/Button'\nimport PersonAddIcon from '@material-ui/icons/PersonAdd'\nimport { i18n } from '../../../helpers/i18n/i18n'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Input from '@material-ui/core/Input'\nimport { AddPlayerProps } from './AddPlayerConnected'\nimport { DialogContentStyled } from './DialogContentStyled'\n\nexport const AddPlayer: FC<AddPlayerProps> = ({ addPlayer }) => {\n  const [open, setOpen] = useState(false)\n  const openModal = () => setOpen(true)\n  const closeModal = () => setOpen(false)\n\n  const [disabled, setDisabled] = useState(true)\n\n  const [inputValue, setInputValue] = useState('')\n  const onInputChange = ({ currentTarget }: ChangeEvent<HTMLInputElement>) => {\n    setInputValue(currentTarget.value)\n    setDisabled(currentTarget.value.trim() === '')\n  }\n  const onSubmit = (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault()\n    addPlayer(inputValue.trim())\n    closeModal()\n    setInputValue('')\n    setDisabled(true)\n  }\n\n  return (\n    <>\n      <Button variant=\"contained\" startIcon={<PersonAddIcon />} size=\"small\" onClick={openModal}>\n        {i18n('button.addPlayer')}\n      </Button>\n      {open && (\n        <Dialog open onClose={closeModal}>\n          <form onSubmit={onSubmit}>\n            <DialogTitle>\n              {i18n('button.addPlayer')}\n            </DialogTitle>\n            <DialogContentStyled>\n              <Input fullWidth autoFocus value={inputValue} onChange={onInputChange} />\n            </DialogContentStyled>\n            <DialogActions>\n              <Button onClick={closeModal}>\n                {i18n('button.cancel')}\n              </Button>\n              <Button type=\"submit\" variant=\"contained\" color=\"primary\" disabled={disabled}>\n                {i18n('button.add')}\n              </Button>\n            </DialogActions>\n          </form>\n        </Dialog>\n      )}\n    </>\n  )\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport Button, { ButtonProps } from '@material-ui/core/Button'\nimport { playersDefaultState, PlayersState, resetPlayers } from '../../../redux/reducers/players'\nimport { Action, compose } from 'redux'\nimport { i18n } from '../../../helpers/i18n/i18n'\nimport RotateLeftIcon from '@material-ui/icons/RotateLeft'\nimport { visibilityHOC, VisibilityHOCProps } from '../../../helpers/visibilityHOC'\nimport { State } from '../../../redux/defaultState'\nimport equal from 'fast-deep-equal'\n\ninterface MapStateToProps extends PlayersState {\n}\n\ninterface MapDispatchToProps {\n  onClick(): Action\n}\n\nexport interface ResetToDefaultPlayersButtonProps\n  extends MapDispatchToProps, Pick<ButtonProps, 'startIcon'>, VisibilityHOCProps {\n  children: string\n}\n\nexport const ResetToDefaultPlayersButtonConnected = compose(\n  connect(\n    ({ players }: State): MapStateToProps => ({\n      players,\n    }),\n    { resetPlayers },\n    ({ players }, { resetPlayers }): ResetToDefaultPlayersButtonProps => ({\n      onClick: resetPlayers,\n      children: i18n('button.reset2'),\n      startIcon: <RotateLeftIcon />,\n\n      hidden: equal(players, playersDefaultState),\n    }),\n  ),\n  visibilityHOC,\n)(Button)\n","import React, { FC } from 'react'\nimport { ButtonsWrapper } from './Buttons/ButtonsWrapper'\nimport { CancelStartGameButtonConnected } from './Buttons/CancelStartGameButtonConnected'\nimport { StartGameButtonConnected } from './Buttons/StartGameButtonConnected'\nimport { PlayersListConnected } from './PlayersList/PlayersListConnected'\nimport { AddPlayerConnected } from './AddPlayer/AddPlayerConnected'\nimport { ResetToDefaultPlayersButtonConnected } from './Buttons/ResetToDefaultPlayersButtonConnected'\n\nexport const PlayersSelection: FC = () => (\n  <>\n    <PlayersListConnected />\n    <ButtonsWrapper>\n      <StartGameButtonConnected />\n      <AddPlayerConnected />\n      <CancelStartGameButtonConnected />\n      <ResetToDefaultPlayersButtonConnected />\n    </ButtonsWrapper>\n  </>\n)\n","import styled from '@material-ui/styles/styled'\nimport { Themed } from '../../../helpers/types'\nimport { diceSizeDefaultState, DiceSizeState } from '../../../redux/reducers/diceSize'\nimport { cwp } from '../../../helpers/cwp'\n\ninterface DicesWrapper extends Partial<DiceSizeState> {\n}\n\nexport const DicesWrapper = styled(\n  cwp()<DicesWrapper>('diceSize'),\n)(({ theme: { spacing, breakpoints: { down } }, diceSize }: Themed<DicesWrapper>) => {\n  const size = diceSize ? diceSize : diceSizeDefaultState\n\n  return {\n    display: 'flex',\n    flexWrap: 'nowrap',\n    fontSize: spacing(size),\n    paddingBottom: spacing(size / 3),\n\n    [down('xs')]: {\n      justifyContent: 'center',\n    },\n  }\n})\n","import { connect } from 'react-redux'\n\nimport { Dices } from './Dices'\nimport { State } from '../../redux/defaultState'\nimport { DicesState } from '../../redux/reducers/dices'\nimport { DicesSelectedState, SelectDice, selectDice } from '../../redux/reducers/dicesSelected'\nimport { LoadingState } from '../../redux/reducers/loading'\nimport { DiceSizeState } from '../../redux/reducers/diceSize'\n\ninterface MapStateToProps extends DicesState, DicesSelectedState, LoadingState, DiceSizeState {\n}\n\ninterface MapDispatchToProps {\n  selectDice: SelectDice\n}\n\nexport interface DicesProps extends MapStateToProps, MapDispatchToProps {\n}\n\nexport const DicesConnected = connect(\n  ({ dices, dicesSelected, loading, diceSize }: State): MapStateToProps => ({\n    dices,\n    dicesSelected,\n    loading,\n    diceSize,\n  }),\n  { selectDice },\n  ({ dices, dicesSelected, loading, diceSize }, { selectDice }): DicesProps => ({\n    dices,\n    dicesSelected,\n    loading,\n    selectDice,\n    diceSize,\n  }),\n)(Dices)\n","import React, { FC } from 'react'\nimport { DicesProps } from './DicesConnected'\nimport { Dice } from './Dice/Dice'\nimport { DicesWrapper } from './DicesWrapper/DicesWrapper'\n\nexport const Dices: FC<DicesProps> = ({\n  dices,\n  dicesSelected,\n  loading,\n  selectDice,\n  diceSize,\n}) => (\n  <DicesWrapper diceSize={diceSize}>\n    {dices.map((dice, index) => {\n      const selected = dicesSelected.indexOf(index) !== -1\n      const onClick = () => {\n        if (dice !== -1) {\n          selectDice(index)\n        }\n      }\n\n      return (\n        <Dice\n          key={index}\n          value={dice}\n          selected={selected}\n          roll={!selected && loading}\n          onClick={onClick}\n        />\n      )\n    })}\n  </DicesWrapper>\n)\n","import styled from '@material-ui/styles/styled'\nimport { Themed } from '../../../helpers/types'\nimport Fab from '@material-ui/core/Fab'\nimport React from 'react'\n\nexport const ResetDicesButtonStyled = styled((props) => (\n  <Fab color=\"secondary\" variant=\"extended\" {...props} />\n))(({ theme: { spacing, breakpoints: { down } } }: Themed) => ({\n  marginBottom: spacing(2),\n  [down('xs')]: {\n    marginTop: spacing(2),\n  },\n}))\n","import { connect } from 'react-redux'\nimport { ResetDicesButton } from './ResetDicesButton'\nimport { compose } from 'redux'\nimport { visibilityHOC, VisibilityHOCProps } from '../../../helpers/visibilityHOC'\nimport { State } from '../../../redux/defaultState'\nimport { DicesSelectedState, unselectAllDices, UnselectAllDices } from '../../../redux/reducers/dicesSelected'\n\ninterface MapStateToProps extends DicesSelectedState {\n}\n\ninterface MapDispatchToProps {\n  unselectAllDices: UnselectAllDices\n}\n\nexport interface ResetDicesButtonProps extends MapDispatchToProps, VisibilityHOCProps {\n}\n\nexport const ResetDicesButtonConnected = compose(\n  connect(\n    ({ dicesSelected }: State): MapStateToProps => ({\n      dicesSelected,\n    }),\n    { unselectAllDices },\n    ({ dicesSelected }, { unselectAllDices }): ResetDicesButtonProps => ({\n      unselectAllDices,\n\n      hidden: dicesSelected.length === 0,\n    }),\n  ),\n  visibilityHOC,\n)(ResetDicesButton)\n","import React, { FC } from 'react'\nimport { i18n } from '../../../helpers/i18n/i18n'\nimport RotateLeftIcon from '@material-ui/icons/RotateLeft'\nimport { ResetDicesButtonProps } from './ResetDicesButtonConnected'\nimport { ResetDicesButtonStyled } from './ResetDicesButtonStyled'\n\nexport const ResetDicesButton: FC<ResetDicesButtonProps> = ({ unselectAllDices }) => (\n  <ResetDicesButtonStyled onClick={unselectAllDices}>\n    <RotateLeftIcon fontSize=\"large\" />\n    {i18n('button.reset')}\n  </ResetDicesButtonStyled>\n)\n","import styled from '@material-ui/styles/styled'\nimport { Themed } from '../../helpers/types'\n\nexport const DicesActionsWrapper = styled('div')(({\n  theme: { spacing, breakpoints: { down } },\n}: Themed) => ({\n  marginBottom: spacing(3),\n  [down('xs')]: {\n    textAlign: 'center',\n  },\n}))\n","import Fab from '@material-ui/core/Fab'\nimport { Themed } from '../../../helpers/types'\nimport React from 'react'\nimport styled from '@material-ui/styles/styled'\n\nexport const RollDiceButtonStyled = styled(\n  (props) => (\n    <Fab\n      variant=\"extended\"\n      color=\"primary\"\n      {...props}\n    />\n  ),\n)(({ theme: { spacing, breakpoints: { down } } }: Themed) => ({\n  marginRight: spacing(2),\n  marginBottom: spacing(2),\n  whiteSpace: 'nowrap',\n  [down('xs')]: {\n    marginRight: 0,\n  },\n}))\n","import CasinoIcon from '@material-ui/icons/Casino'\nimport styled from '@material-ui/styles/styled'\nimport { Themed } from '../../../helpers/types'\n\nexport const CasinoIconStyled = styled(CasinoIcon)(({ theme: { spacing } }: Themed) => ({\n  marginRight: spacing(1),\n}))\n","/*tslint:disable:no-magic-numbers*/\nimport styled from '@material-ui/styles/styled'\nimport { Themed } from '../../../helpers/types'\nimport red from '@material-ui/core/colors/red'\n\nexport const RollDiceButtonTip = styled('span')(({\n  theme: { spacing, palette: { grey } },\n}: Themed) => ({\n  marginLeft: spacing(1),\n  textTransform: 'none',\n  color: red.A100,\n\n  '& span': {\n    color: grey['600'],\n    fontWeight: 'bold',\n  },\n}))\n","export const getRandomInt = (min: number, max: number): number => (\n  Math.floor(Math.random() * (max - min + 1)) + min\n)\n\nexport const rand = () => getRandomInt(1, 6)\n","import { rand } from '../../helpers/random'\nimport { generateRandomDices } from '../reducers/dices'\nimport { ThunkAction } from '../../helpers/types'\nimport { increaseShot } from '../reducers/playerMove'\nimport { addToHistoryThunk } from './addToHistoryThunk'\n\nexport const generateRandomDicesThunk: ThunkAction = () => (dispatch, getState) => {\n  const { dices, dicesSelected } = getState()\n  let randDices = [...dices]\n\n  dices.forEach((item, index) => {\n    if (dicesSelected.indexOf(index) === -1) {\n      randDices[index] = rand()\n    }\n  })\n\n  dispatch(increaseShot())\n  dispatch(generateRandomDices(randDices))\n  dispatch(addToHistoryThunk())\n}\n","import { ThunkAction } from '../../helpers/types'\nimport update from 'immutability-helper'\nimport { addToHistory } from '../reducers/history'\n\nexport const addToHistoryThunk: ThunkAction = () => (dispatch, getState) => {\n  const { playerMove: [activePlayerId, shot], dices: stateDices, dicesSelected } = getState()\n  let { history } = getState()\n  let dices = [...stateDices]\n\n  if (history[activePlayerId] === undefined) {\n    history = update(history, {\n      $merge: {\n        [activePlayerId]: [],\n      },\n    })\n  }\n\n  if (shot === 1) {\n    history = update(history, {\n      [activePlayerId]: {\n        $push: [\n          {\n            tries: [dices],\n            result: {},\n            dicesSelected: [],\n          },\n        ],\n      },\n    })\n  } else {\n    const lastElementIndex = history[activePlayerId].length - 1\n    history = update(history, {\n      [activePlayerId]: {\n        [lastElementIndex]: {\n          tries: { $push: [dices] },\n          dicesSelected: { $push: [dicesSelected] },\n        },\n      },\n    })\n  }\n\n  dispatch(addToHistory(history))\n}\n","import React, { FC, useCallback } from 'react'\nimport { RollDiceButtonStyled } from './RollDiceButtonStyled'\nimport { CasinoIconStyled } from './CasinoIconStyled'\nimport { i18n } from '../../../helpers/i18n/i18n'\nimport { RollDiceButtonTip } from './RollDiceButtonTip'\nimport { MAX_SHOT_COUNT } from '../../../redux/reducers/playerMove'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { makeLoadingSelector, setLoading } from '../../../redux/reducers/loading'\nimport { makePlayerMoveSelector } from '../../../redux/selectors/makePlayerMoveSelector'\nimport { generateRandomDicesThunk } from '../../../redux/actions/generateRandomDicesThunk'\n\nconst defaultDelay = 300\nlet delay = 0\n\nlet timer: number | null = null\n\nconst loadingSelector = makeLoadingSelector()\nconst playerMoveSelector = makePlayerMoveSelector()\n\nexport const RollDiceButton: FC = () => {\n  const dispatch = useDispatch()\n  const loading = useSelector(loadingSelector)\n  const [, shot] = useSelector(playerMoveSelector)\n\n  const shuffle = useCallback(\n    () => {\n      delay = Date.now()\n      dispatch(setLoading(true))\n      if (timer !== null) {\n        window.clearTimeout(timer)\n      }\n    },\n    [dispatch],\n  )\n\n  const shuffleUp = () => {\n    if (loading) {\n      const d = Date.now() - delay\n      timer = window.setTimeout(\n        () => {\n          dispatch(generateRandomDicesThunk())\n          dispatch(setLoading(false))\n        },\n        d < defaultDelay ? defaultDelay - d : 0,\n      )\n    }\n  }\n\n  const disabled = shot >= MAX_SHOT_COUNT\n\n  return (\n    <RollDiceButtonStyled\n      onMouseUp={shuffleUp}\n      onMouseDown={shuffle}\n      // onMouseLeave={shuffleUp}\n      disabled={disabled}\n    >\n      {disabled ? i18n('button.writeDownYourPoints') : (\n        <>\n          <CasinoIconStyled fontSize=\"large\" />\n          {i18n('button.dropDices')}\n          <RollDiceButtonTip>\n            {shot}\n            <span> / {MAX_SHOT_COUNT}</span>\n          </RollDiceButtonTip>\n        </>\n      )}\n    </RollDiceButtonStyled>\n  )\n}\n","import React, { FC } from 'react'\nimport { ResetDicesButtonConnected } from './ResetDicesButton/ResetDicesButtonConnected'\nimport { DicesActionsWrapper } from './DicesActionsWrapper'\nimport { RollDiceButton } from './RollDiceButton/RollDiceButton'\n\nexport const DicesActions: FC = () => (\n  <DicesActionsWrapper>\n    <RollDiceButton />\n    <ResetDicesButtonConnected />\n  </DicesActionsWrapper>\n)\n","import React, { FC } from 'react'\nimport Typography from '@material-ui/core/Typography'\nimport useTheme from '@material-ui/core/styles/useTheme'\n\nexport const Heading: FC = ({ children }) => {\n  const { spacing } = useTheme()\n\n  return (\n    <Typography variant=\"h5\" component=\"h3\" style={{ marginBottom: spacing(3) }}>\n      {children}\n    </Typography>\n  )\n}\n","import React from 'react'\nimport styled from '@material-ui/styles/styled'\nimport { Themed } from '../../helpers/types'\nimport Typography from '@material-ui/core/Typography'\n\nexport const Paragraph = styled(\n  (props) => (\n    <Typography paragraph {...props} />\n  ),\n)(({ theme: { spacing } }: Themed) => ({\n  margin: spacing(1, 0),\n}))\n","/*tslint:disable:no-magic-numbers*/\nimport styled from '@material-ui/styles/styled'\nimport TableCell from '@material-ui/core/TableCell'\n\nexport const TableCellNoWrap = styled(TableCell)({\n  whiteSpace: 'nowrap',\n})\n","import React, { FC } from 'react'\nimport { i18n } from '../../helpers/i18n/i18n'\nimport { Heading } from './Heading'\nimport { Paragraph } from './Paragraph'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableRow from '@material-ui/core/TableRow'\nimport TableCell from '@material-ui/core/TableCell'\nimport { TableCellNoWrap } from './TableCellNoWrap'\nimport Typography from '@material-ui/core/Typography'\n\nexport const Rules: FC = () => (\n  <>\n    <Typography paragraph>\n      {i18n('help.intro')}\n    </Typography>\n    <Heading>\n      {i18n('help.gameplay.header')}\n    </Heading>\n    <Typography paragraph>\n      {i18n('help.gameplay.text')}\n    </Typography>\n    <Heading>\n      {i18n('help.scoring.header')}\n    </Heading>\n    <Typography paragraph>{i18n('help.scoring.text')}</Typography>\n    <Typography paragraph>{i18n('help.topSection')}</Typography>\n    <Table size=\"small\">\n      <TableBody>\n        <TableRow>\n          <TableCell>{i18n('combination.1')}</TableCell>\n          <TableCell>{i18n('combination.1.title')}</TableCell>\n        </TableRow>\n        <TableRow>\n          <TableCell>{i18n('combination.2')}</TableCell>\n          <TableCell>{i18n('combination.2.title')}</TableCell>\n        </TableRow>\n        <TableRow>\n          <TableCell>{i18n('combination.3')}</TableCell>\n          <TableCell>{i18n('combination.3.title')}</TableCell>\n        </TableRow>\n        <TableRow>\n          <TableCell>{i18n('combination.4')}</TableCell>\n          <TableCell>{i18n('combination.4.title')}</TableCell>\n        </TableRow>\n        <TableRow>\n          <TableCell>{i18n('combination.5')}</TableCell>\n          <TableCell>{i18n('combination.5.title')}</TableCell>\n        </TableRow>\n        <TableRow>\n          <TableCell>{i18n('combination.6')}</TableCell>\n          <TableCell>{i18n('combination.6.title')}</TableCell>\n        </TableRow>\n      </TableBody>\n    </Table>\n\n    <br/>\n\n    <Paragraph>\n      {i18n('help.topSection.tip')}\n    </Paragraph>\n\n    <br/>\n\n    <Paragraph>\n      {i18n('help.bottomSection')}\n    </Paragraph>\n    <Table size=\"small\">\n      <TableBody>\n        <TableRow>\n          <TableCellNoWrap>{i18n('combination.threeOfAKind')}</TableCellNoWrap>\n          <TableCell>{i18n('combination.threeOfAKind.title')}</TableCell>\n        </TableRow>\n        <TableRow>\n          <TableCellNoWrap>{i18n('combination.equal_4')}</TableCellNoWrap>\n          <TableCell>{i18n('combination.equal_4.title')}</TableCell>\n        </TableRow>\n        <TableRow>\n          <TableCellNoWrap>{i18n('combination.smallStraight')}</TableCellNoWrap>\n          <TableCell>{i18n('combination.smallStraight.title')}</TableCell>\n        </TableRow>\n        <TableRow>\n          <TableCellNoWrap>{i18n('combination.bigStraight')}</TableCellNoWrap>\n          <TableCell>{i18n('combination.bigStraight.title')}</TableCell>\n        </TableRow>\n        <TableRow>\n          <TableCellNoWrap>{i18n('combination.fullHouse')}</TableCellNoWrap>\n          <TableCell>{i18n('combination.fullHouse.title')}</TableCell>\n        </TableRow>\n        <TableRow>\n          <TableCellNoWrap>{i18n('combination.theYacht')}</TableCellNoWrap>\n          <TableCell>{i18n('combination.theYacht.title')}</TableCell>\n        </TableRow>\n        <TableRow>\n          <TableCellNoWrap>{i18n('combination.chance')}</TableCellNoWrap>\n          <TableCell>{i18n('combination.chance.title')}</TableCell>\n        </TableRow>\n      </TableBody>\n    </Table>\n  </>\n)\n","/*tslint:disable:no-magic-numbers*/\nimport styled from '@material-ui/styles/styled'\nimport { Themed } from '../../helpers/types'\n\nexport const StartGameButtonWrapper = styled('div')(({\n  theme: { spacing, breakpoints: { down } },\n}: Themed) => ({\n  paddingTop: spacing(2),\n  paddingBottom: spacing(4),\n  [down('xs')]: {\n    textAlign: 'center',\n  },\n}))\n","import React from 'react'\nimport styled from '@material-ui/styles/styled'\nimport { Themed } from '../../../helpers/types'\nimport { conditionalCSS } from '../../../helpers/conditionalCSS'\nimport TableCell from '@material-ui/core/TableCell'\n\nexport interface TableCellStyledProps {\n  heading?: boolean\n  selected?: boolean\n  noPadding?: boolean\n  centered?: boolean\n  firstColumn?: boolean\n  empty?: boolean\n  active?: boolean\n  large?: boolean\n}\n\nexport const TableCellStyled = styled(\n  ({\n    heading,\n    selected,\n    noPadding,\n    centered,\n    firstColumn,\n    empty,\n    active,\n    large,\n    ...props\n  }: TableCellStyledProps) => (\n    <TableCell component=\"div\" {...props} />\n  ),\n)(({\n  theme: {\n    spacing, palette: { type, grey, background: { paper }, error: { light } },\n    combinationsTable: { firstColumnWidth, columnWidth },\n  },\n  centered, heading, selected, noPadding, active, large,\n  firstColumn = false, empty = false,\n}: Themed<TableCellStyledProps>) => {\n  const activeColor = type === 'dark' ? paper : grey['300']\n\n  return conditionalCSS([\n    [centered, {\n      textAlign: 'center',\n    }],\n    [heading, {\n      color: light,\n    }],\n    [selected, {\n      backgroundColor: activeColor,\n    }],\n    [noPadding, {\n      padding: 0,\n      position: 'relative',\n    }],\n    [!empty && firstColumn, {\n      width: firstColumnWidth,\n      minWidth: firstColumnWidth,\n    }],\n    [!empty && !firstColumn, {\n      width: columnWidth,\n      minWidth: columnWidth,\n    }],\n    [active && !heading, {\n      borderLeft: `1px solid ${activeColor}`,\n      borderRight: `1px solid ${activeColor}`,\n    }],\n    [heading && active, {\n      backgroundColor: activeColor,\n      borderTopRightRadius: spacing(1),\n      borderTopLeftRadius: spacing(1),\n    }],\n    [large, {\n      fontSize: spacing(2.2),\n    }],\n  ])\n})\n\n","import { Dices } from '../redux/reducers/dices'\nimport { Combination } from '../redux/reducers/combinations'\nimport { uniq } from './uniq'\n\nexport type Return<T> = {\n  points?: T\n  maxPoints?: T\n}\n\ntype MaxPoints = 25 | 30 | 50\n\ntype ResultsMap = {\n  [Combination.SMALL_STRAIGHT]: Return<MaxPoints>\n  [Combination.BIG_STRAIGHT]: Return<MaxPoints>\n  [Combination.THE_YACHT]: Return<MaxPoints>\n  [Combination.TWO_PAIR]: Return<MaxPoints>\n  [Combination.FULL_HOUSE]: Return<MaxPoints>\n}\n\nexport const resultsMap: ResultsMap = {\n  [Combination.SMALL_STRAIGHT]: { points: 25, maxPoints: 25 },\n  [Combination.BIG_STRAIGHT]: { points: 30, maxPoints: 30 },\n  [Combination.THE_YACHT]: { points: 50, maxPoints: 50 },\n  [Combination.TWO_PAIR]: { points: 25, maxPoints: 25 },\n  [Combination.FULL_HOUSE]: { points: 30, maxPoints: 30 },\n}\n\nexport type CheckMatch = (combinationType: Combination, dices: Dices) => Return<number>\n\nexport const checkMatch: CheckMatch = (combinationType, dices) => {\n  const values = Object.values(dices)\n  const sequence = values.sort()\n  const seq = uniq(sequence)\n  const seqString = seq.toString()\n\n  switch (combinationType) {\n    case Combination.ONE:\n    case Combination.TWO:\n    case Combination.THREE:\n    case Combination.FOUR:\n    case Combination.FIVE:\n    case Combination.SIX: {\n      const matches = sequence.filter(item => item === combinationType)\n      if (matches.length >= 3) {\n        return {\n          points: matches.length * combinationType,\n          maxPoints: 5 * combinationType,\n        }\n      }\n      break\n    }\n    case Combination.EQUAL_3:\n    case Combination.EQUAL_4: {\n      const count = parseInt(combinationType.split('_')[1], 10)\n\n      const counts: { [k: string]: number } = {}\n\n      sequence.forEach(x => {\n        counts[x] = (counts[x] || 0) + 1\n      })\n\n      const number = parseInt(Object.keys(counts).filter(key => counts[key] >= count)[0], 10)\n\n      if (!isNaN(number)) {\n        return {\n          points: number * count,\n          maxPoints: 6 * count,\n        }\n      }\n\n      break\n    }\n    case Combination.SMALL_STRAIGHT: {\n      const successResult = resultsMap[Combination.SMALL_STRAIGHT]\n\n      if (seq.length === 5) {\n        if (['1,2,3,4,5', '2,3,4,5,6'].indexOf(seqString) !== -1) {\n          return successResult\n        }\n        for (let i = 1; i <= seq.length; i++) {\n          if (seq[i - 1] !== i) {\n            let seqCopy = [...seq]\n            seqCopy.shift()\n            if (seqCopy.length === 4 && seqCopy.toString() === '3,4,5,6') {\n              return successResult\n            }\n            seqCopy = [...seq]\n            seqCopy.pop()\n            if (seqCopy.length === 4 && seqCopy.toString() === '1,2,3,4') {\n              return successResult\n            }\n          }\n        }\n      }\n\n      if (seq.length === 4 && ['1,2,3,4', '2,3,4,5', '3,4,5,6'].indexOf(seqString) !== -1) {\n        return successResult\n      }\n      break\n    }\n    case Combination.BIG_STRAIGHT: {\n      if (seq.length === 5 && ['1,2,3,4,5', '2,3,4,5,6'].indexOf(seqString) !== -1) {\n        return resultsMap[Combination.BIG_STRAIGHT]\n      }\n      break\n    }\n    case Combination.THE_YACHT: {\n      if (seq.length === 1 && seq[0] !== -1) {\n        return resultsMap[Combination.THE_YACHT]\n      }\n      break\n    }\n    case Combination.CHANCE: {\n      return {\n        points: sequence.reduce((a, b) => a + b, 0),\n        maxPoints: 30,\n      }\n    }\n    case Combination.FULL_HOUSE: {\n      if (seq.length === 2) {\n        const sorted = [...sequence].sort()\n        if (\n          (\n            sorted[0] === sorted[1] &&\n            sorted[1] === sorted[2] &&\n            sorted[3] === sorted[4] &&\n            sorted[0] !== sorted[3]\n          ) || (\n            sorted[0] === sorted[1] &&\n            sorted[2] === sorted[3] &&\n            sorted[3] === sorted[4] &&\n            sorted[0] !== sorted[2]\n          )\n        ) {\n          return resultsMap[Combination.FULL_HOUSE]\n        }\n      }\n      break\n    }\n    case Combination.TWO_PAIR: {\n      const sorted = sequence.sort()\n      if (\n        (\n          sorted[0] === sorted[1] &&\n          sorted[2] === sorted[3] &&\n          sorted[0] !== sorted[2]\n        ) || (\n          sorted[1] === sorted[2] &&\n          sorted[3] === sorted[4] &&\n          sorted[1] !== sorted[3]\n        ) || (\n          sorted[0] === sorted[1] &&\n          sorted[3] === sorted[4] &&\n          sorted[0] !== sorted[3]\n        )\n      ) {\n        return resultsMap[Combination.TWO_PAIR]\n      }\n      break\n    }\n    default:\n      return {}\n  }\n\n  return {}\n}\n","export const uniq = (a: number[]): number[] => [...new Set(a)]\n","import styled from '@material-ui/styles/styled'\nimport { align, stretch } from '../../../../helpers/css'\nimport { EMPTY_CELL } from '../../../../redux/reducers/combinations'\nimport { Themed } from '../../../../helpers/types'\n\nexport const Empty = styled('div')(({\n  theme: { palette: { type, grey, background: { paper } } },\n}: Themed) => ({\n  '&, &::before': {\n    ...stretch(),\n  },\n  '&::before': {\n    content: `'${EMPTY_CELL}'`,\n    ...align(),\n    color: type === 'dark' ? paper : grey[300],\n  },\n}))\n","import styled from '@material-ui/styles/styled'\nimport MaterialButton, { ButtonProps } from '@material-ui/core/Button'\nimport { TableSizes } from '../../../../redux/reducers/tableSize'\nimport React from 'react'\nimport { stretch } from '../../../../helpers/css'\n\ninterface ButtonStyledProps extends Pick<ButtonProps, 'size' | 'color' | 'onClick'> {\n}\n\nexport const Button = styled(\n  ({ size, color, ...props }: ButtonStyledProps) => (\n    <MaterialButton\n      {...props}\n      fullWidth\n      color={color}\n      variant=\"contained\"\n      size={size === TableSizes.MEDIUM ? 'large' : size}\n    />\n  ),\n)({\n  ...stretch(),\n  textTransform: 'lowercase',\n  borderRadius: 0,\n  padding: 0,\n  fontSize: 'inherit',\n})\n","import styled from '@material-ui/styles/styled'\nimport { align, stretch } from '../../../../helpers/css'\n\nexport const Matched = styled('div')({\n  ...stretch(),\n  ...align(),\n})\n","import styled from '@material-ui/styles/styled'\nimport grey from '@material-ui/core/colors/grey'\nimport { Themed } from '../../../../helpers/types'\nimport { conditionalCSS } from '../../../../helpers/conditionalCSS'\nimport { cwp } from '../../../../helpers/cwp'\n\ninterface BonusProps {\n  alt?: boolean\n}\n\nexport const Bonus = styled(\n  cwp()<BonusProps>('alt'),\n)(({ theme: { palette: { type } }, alt }: Themed<BonusProps>) =>\n  conditionalCSS([\n    [alt, {\n      fontStyle: 'italic',\n      color: type === 'dark' ? grey[700] : grey[400],\n    }],\n  ]))\n","import { i18n } from './i18n/i18n'\nimport React from 'react'\nimport { CheckMatch } from './checkMatch'\nimport styled from '@material-ui/styles/styled'\nimport { Themed } from './types'\n\ntype RenderPoints = (\n  points: ReturnType<CheckMatch>['points'],\n  maxPoints: ReturnType<CheckMatch>['maxPoints'],\n) => string | JSX.Element\n\nexport const Tip = styled('span')(({ theme: { spacing, palette: { grey } } }: Themed) => ({\n  marginLeft: spacing(.5),\n  fontSize: '.85em',\n  fontStyle: 'italic',\n  color: grey[500],\n}))\n\nexport const renderPoints: RenderPoints = (points, maxPoints) =>\n  (points !== undefined) && (maxPoints !== undefined) && (points < maxPoints)\n    ? (\n      <>\n        {points}\n        <Tip>{`${i18n('ofMax')} ${maxPoints}`}</Tip>\n      </>\n    ) : (\n      <span>{points}</span>\n    )\n\n","type Value = string | number\n\ntype InArray = (arr: Array<Value>, value: Value) => boolean\n\nexport const inArray: InArray = (arr, value) => (\n  arr.indexOf(value) !== -1\n)\n","import { inArray } from './inArray'\nimport { i18n } from './i18n/i18n'\n\nconst calc = (n: number) => (...sequence: number[]): boolean => inArray(sequence, n % 10)\n\nexport const defineWorkEnding = (n: number): string | undefined => {\n  const calculated = calc(n)\n\n  if (inArray([11, 12, 13, 14], n)) {\n    return i18n('points1')\n  }\n\n  if (calculated(1)) {\n    return i18n('points2')\n  }\n\n  if (calculated(2, 3, 4)) {\n    return i18n('points3')\n  }\n\n  if (calculated(0, 5, 6, 7, 8, 9)) {\n    return i18n('points4')\n  }\n}\n","import { connect } from 'react-redux'\nimport cx from 'classnames'\n\nimport { State } from '../../../redux/defaultState'\nimport { CombinationInfo, EMPTY_CELL, isBonus as _isBonus } from '../../../redux/reducers/combinations'\nimport { Player } from '../../../redux/reducers/players'\nimport { DicesState } from '../../../redux/reducers/dices'\nimport { Move } from '../../../redux/reducers/playerMove'\nimport { CheckMatch, checkMatch } from '../../../helpers/checkMatch'\nimport { saveCombinationThunk, SaveCombinationThunk } from '../../../redux/actions/saveCombinationThunk'\nimport { Combination } from './Combination'\n\ntype Combination = Pick<CombinationInfo, 'combination'>;\n\ninterface MapStateToProps extends DicesState, Combination {\n  activePlayerId: Move[0]\n  existingCombination: number | EMPTY_CELL\n}\n\ninterface MapDispatchToProps {\n  saveCombinationThunk: SaveCombinationThunk\n}\n\ninterface OwnProps extends Combination {\n  playerId: Player['id']\n  isMoveAvailable: boolean\n}\n\nexport interface CombinationProps extends Pick<MapStateToProps, 'existingCombination'>, ReturnType<CheckMatch> {\n  type: string | 'matching' | 'bonus' | 'matched' | 'strike'\n\n  save(): void\n\n  strikeOut(): void\n}\n\nexport const CombinationConnected = connect<MapStateToProps, MapDispatchToProps, OwnProps, CombinationProps, State>(\n  (\n    { playerPoints, dices, playerMove: { 0: activePlayerId } },\n    { playerId, combination },\n  ) => {\n    const existingCombination = (playerPoints[playerId] || [])[combination]\n\n    return {\n      dices,\n      activePlayerId,\n      combination,\n      existingCombination: existingCombination === undefined ? EMPTY_CELL : existingCombination,\n    }\n  },\n  { saveCombinationThunk },\n  (\n    { dices, combination, activePlayerId, existingCombination },\n    { saveCombinationThunk },\n    { playerId, isMoveAvailable },\n  ): CombinationProps => {\n    const { points, maxPoints } = checkMatch(combination, dices)\n    const active = activePlayerId === playerId\n    const isBonus = _isBonus(combination)\n    const matched = existingCombination !== EMPTY_CELL && !isBonus\n\n    return {\n      type: cx({\n        matched,\n        matching: active && !matched && points !== undefined && points > 0,\n        bonus: isBonus && existingCombination !== EMPTY_CELL,\n        strike: active && !matched && !isBonus && !isMoveAvailable,\n      }),\n\n      existingCombination,\n\n      points,\n      maxPoints,\n      save() {\n        saveCombinationThunk(playerId, combination, points)\n      },\n      strikeOut() {\n        saveCombinationThunk(playerId, combination, 0)\n      },\n    }\n  },\n)(Combination)\n","import { ThunkAction } from '../../helpers/types'\nimport { nextTurnThunk } from './nextTurnThunk'\nimport { SaveCombinationParams as P, saveCombination } from '../reducers/playerPoints'\nimport { resetDices } from '../reducers/dices'\nimport { unselectAllDices } from '../reducers/dicesSelected'\nimport { saveResultToHistoryThunk } from './saveResultToHistoryThunk'\n\nexport type SaveCombinationThunk = (playerId: P[0], combination: P[1], points: P[2]) => ReturnType<ThunkAction>\n\nexport const saveCombinationThunk: SaveCombinationThunk = (playerId, combination, points) => (dispatch) => {\n  dispatch(nextTurnThunk())\n  dispatch(resetDices())\n  dispatch(unselectAllDices())\n  dispatch(saveCombination(playerId, combination, points))\n  dispatch(saveResultToHistoryThunk(playerId, combination, points))\n}\n","import { ThunkActionP3 } from '../../helpers/types'\nimport { Player } from '../reducers/players'\nimport { Combination } from '../reducers/combinations'\nimport { CheckMatch } from '../../helpers/checkMatch'\nimport { addToHistory } from '../reducers/history'\nimport update from 'immutability-helper'\n\nexport const saveResultToHistoryThunk: ThunkActionP3<Player['id'], Combination, ReturnType<CheckMatch>['points']> = (\n  playerId, combination, points,\n) => (dispatch, getState) => {\n  let { history } = getState()\n\n  const lastElementIndex = history[playerId].length - 1\n  history = update(history, {\n    [playerId]: {\n      [lastElementIndex]: {\n        result: {\n          $merge: {\n            [combination]: points,\n          },\n        },\n      },\n    },\n  })\n\n  dispatch(addToHistory(history))\n}\n","import React, { FC } from 'react'\nimport { Empty } from './CellContent/Empty'\nimport { Button } from './CellContent/Button'\nimport { Matched } from './CellContent/Matched'\nimport { Bonus } from './CellContent/Bonus'\nimport { i18n } from '../../../helpers/i18n/i18n'\nimport { CombinationProps } from './CombinationConnected'\nimport { renderPoints } from '../../../helpers/renderPoints'\nimport { renderBonus } from '../../../helpers/renderBonus'\n\nexport const Combination: FC<CombinationProps> = ({\n  type,\n  save,\n  strikeOut,\n  points,\n  maxPoints,\n  existingCombination,\n}) => {\n\n  switch (type) {\n    case 'matching':\n      return (\n        <Button color=\"primary\" onClick={save}>\n          {renderPoints(points, maxPoints)}\n        </Button>\n      )\n    case 'matched': {\n      return (\n        <Matched>\n          {existingCombination}\n        </Matched>\n      )\n    }\n    case 'bonus': {\n      const { bonus, isNegative } = renderBonus(existingCombination as number)\n\n      return (\n        <Bonus alt={isNegative}>\n          {bonus}\n        </Bonus>\n      )\n    }\n    case 'strike': {\n      return (\n        <Button color=\"secondary\" onClick={strikeOut}>\n          {i18n('button.strikeOut')}\n        </Button>\n      )\n    }\n    default:\n      return (\n        <Empty />\n      )\n  }\n}\n","import { i18n } from './i18n/i18n'\nimport { defineWorkEnding } from './defineWorkEnding'\n\nexport type RenderBonus = (existingCombination: number) => {\n  isNegative: boolean\n  bonus: string | number\n}\n\nexport const renderBonus: RenderBonus = (existingCombination) => {\n  const isNegative = Math.sign(existingCombination) === -1\n\n  return {\n    isNegative,\n    bonus: isNegative\n      ? `${i18n('more')} ${existingCombination * -1} ${defineWorkEnding(existingCombination * -1)}`\n      : existingCombination,\n  }\n}\n\n","import React, { ComponentType } from 'react'\nimport styled from '@material-ui/styles/styled'\nimport MaterialTable from '@material-ui/core/Table'\nimport MaterialTableBody from '@material-ui/core/TableBody'\nimport MaterialTableRow from '@material-ui/core/TableRow'\nimport MaterialTableHead from '@material-ui/core/TableHead'\nimport MaterialTableFooter from '@material-ui/core/TableFooter'\nimport { Themed } from '../../../helpers/types'\n\nconst AsDiv = (Component: ComponentType) => styled((props) => (\n  <Component component=\"div\" {...props} />\n))({\n  display: 'block',\n})\n\nexport const Table = styled(AsDiv(MaterialTable))(({\n  theme: { breakpoints: { down } },\n}: Themed) => ({\n  [down('xs')]: {\n    overflowX: 'auto',\n    overflowY: 'hidden',\n    maxWidth: '100%',\n  },\n}))\n\nexport const TableHead = AsDiv(MaterialTableHead)\n\nexport const TableBody = AsDiv(MaterialTableBody)\n\nexport const TableFooter = styled(AsDiv(MaterialTableFooter))(({\n  theme: { palette: { type, grey, background: { paper } } },\n}: Themed) => ({\n  '& div div': {\n    borderTop: `2px solid ${type === 'dark' ? paper : grey['300']}`,\n    borderBottom: 0,\n    lineHeight: 'inherit',\n    // TODO\n    fontSize: 'inherit',\n    fontWeight: 'bold',\n  },\n}))\n\nexport const TableRow = AsDiv(MaterialTableRow)\n","import React, { FC } from 'react'\nimport { i18n } from '../../helpers/i18n/i18n'\nimport { TableCellStyled } from './TablePartsStyled/TableCellStyled'\nimport { TableRow, TableHead } from './TablePartsStyled/Table'\nimport { useSelector } from 'react-redux'\nimport { makePlayersSelector } from '../../redux/selectors/makePlayersSelector'\nimport { makePlayerMoveSelector } from '../../redux/selectors/makePlayerMoveSelector'\nimport { makeTableSizeSelector } from '../../redux/selectors/makeTableSizeSelector'\n\nconst playersSelector = makePlayersSelector()\nconst playerMoveSelector = makePlayerMoveSelector()\nconst tableSizeSelector = makeTableSizeSelector()\n\nexport const TableHeader: FC = () => {\n  const players = useSelector(playersSelector)\n  const [activePlayerId] = useSelector(playerMoveSelector)\n  const tableSize = useSelector(tableSizeSelector)\n  const large = tableSize === 'medium'\n\n  return (\n    <TableHead>\n      <TableRow>\n        <TableCellStyled heading firstColumn large={large}>\n          {i18n('combinations')}\n        </TableCellStyled>\n        {players.map(({ name, id }) => (\n          <TableCellStyled\n            key={id}\n            heading\n            centered\n            active={activePlayerId === id}\n            large={large}\n          >\n            {name}\n          </TableCellStyled>\n        ))}\n        <TableCellStyled empty />\n      </TableRow>\n    </TableHead>\n  )\n}\n","import { Player, PlayersTotals } from '../reducers/players'\nimport { PlayerPoints } from '../reducers/playerPoints'\nimport { Combination } from '../reducers/combinations'\n\ntype CalcTotals = (players: Player[], playerPoints: PlayerPoints) => PlayersTotals\n\nexport const calcTotalsCombiner: CalcTotals = (players, playerPoints) => {\n  let totals: PlayersTotals = {}\n\n  players.forEach(({ id: playerId }) => {\n    const points = playerPoints[playerId] || {}\n\n    totals[playerId] = Object.keys(points).reduce((prev, key) => {\n      const curr = points[key as Combination]! // this points should exists!\n\n      if (key === Combination.BONUS && Math.sign(curr) === -1) {\n        return prev\n      }\n\n      return prev + curr\n    }, 0)\n  })\n\n  return totals\n}\n","import { PlayerPoints } from '../reducers/playerPoints'\nimport { Selector } from '../../helpers/types'\n\nexport const playerPoints: Selector<PlayerPoints> = ({ playerPoints }) => playerPoints\n","import { createSelector } from 'reselect'\nimport { calcTotalsCombiner } from '../combiners/calcTotalsCombiner'\nimport { players } from '../pureSelectors/players'\nimport { playerPoints } from '../pureSelectors/playerPoints'\n\nexport const makeGetTotalsSelector = () => createSelector(players, playerPoints, calcTotalsCombiner)\n","import React, { FC } from 'react'\nimport { TableCellStyled } from './TablePartsStyled/TableCellStyled'\nimport { i18n } from '../../helpers/i18n/i18n'\nimport { TableRow, TableFooter as TableFoot } from './TablePartsStyled/Table'\nimport { useSelector } from 'react-redux'\nimport { makeGetTotalsSelector } from '../../redux/selectors/makeGetTotalsSelector'\nimport { makePlayersSelector } from '../../redux/selectors/makePlayersSelector'\nimport { makePlayerMoveSelector } from '../../redux/selectors/makePlayerMoveSelector'\nimport { makeTableSizeSelector } from '../../redux/selectors/makeTableSizeSelector'\n\nconst playersSelector = makePlayersSelector()\nconst getTotalsSelector = makeGetTotalsSelector()\nconst playerMoveSelector = makePlayerMoveSelector()\nconst tableSizeSelector = makeTableSizeSelector()\n\nexport const TableFooter: FC = () => {\n  const players = useSelector(playersSelector)\n  const totals = useSelector(getTotalsSelector)\n  const [activePlayerId] = useSelector(playerMoveSelector)\n  const tableSize = useSelector(tableSizeSelector)\n\n  const large = tableSize === 'medium'\n\n  return (\n    <TableFoot>\n      <TableRow>\n        <TableCellStyled large={large} firstColumn>\n          {i18n('total')}\n        </TableCellStyled>\n        {players.map(({ id: playerId }) => (\n          <TableCellStyled\n            key={playerId}\n            active={activePlayerId === playerId}\n            large={large}\n            centered\n            noPadding\n          >\n            {totals[playerId]}\n          </TableCellStyled>\n        ))}\n        <TableCellStyled empty />\n      </TableRow>\n    </TableFoot>\n  )\n}\n","import { Combination, CombinationInfo } from '../reducers/combinations'\nimport { checkMatch } from '../../helpers/checkMatch'\nimport { Dices } from '../reducers/dices'\nimport { PlayerPoints } from '../reducers/playerPoints'\nimport { MAX_SHOT_COUNT, Move } from '../reducers/playerMove'\n\ntype IsMoveAvailable = (\n  combinations: CombinationInfo[],\n  dices: Dices,\n  playerPoints: PlayerPoints,\n  playerMove: Move,\n) => boolean\n\n/**\n * Return true if player have available moves\n */\nexport const isMoveAvailableCombiner: IsMoveAvailable = (\n  combinations,\n  dices,\n  playerPoints,\n  playerMove,\n) => {\n  const [activePlayerId, shot] = playerMove\n  const player = playerPoints[activePlayerId]\n\n  let matchesCount = 0\n  let noMoves = false\n\n  combinations.forEach(({ combination }) => {\n    const { points } = checkMatch(combination, dices)\n    const isInPlayerPoints = combination !== Combination.BONUS && player && !!player[combination]\n\n    /**\n     * Combination matched AND player hasn't this combination\n     */\n    if (points !== undefined && !isInPlayerPoints) {\n      matchesCount = matchesCount + 1\n    }\n\n    /**\n     * If no matches, no more shots and player already have this combination\n     */\n    if (points === undefined && shot === MAX_SHOT_COUNT) {\n      noMoves = true\n    }\n  })\n\n  return !(matchesCount === 0 && noMoves)\n}\n","import React, { FC } from 'react'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport { TableCellStyled } from './TablePartsStyled/TableCellStyled'\nimport { CombinationConnected } from './Combination/CombinationConnected'\nimport { isBonus, makeCombinationsSelector } from '../../redux/reducers/combinations'\nimport { Table, TableBody, TableRow } from './TablePartsStyled/Table'\nimport { TableHeader } from './TableHeader'\nimport { TableFooter } from './TableFooter'\nimport { useSelector } from 'react-redux'\nimport { makeTableSizeSelector } from '../../redux/selectors/makeTableSizeSelector'\nimport { makePlayersSelector } from '../../redux/selectors/makePlayersSelector'\nimport { makeIsMoveAvailableSelector } from '../../redux/selectors/makeIsMoveAvailableSelector'\nimport { makePlayerMoveSelector } from '../../redux/selectors/makePlayerMoveSelector'\n\nconst combinationsSelector = makeCombinationsSelector()\nconst playersSelector = makePlayersSelector()\nconst isMoveAvailableSelector = makeIsMoveAvailableSelector()\nconst tableSizeSelector = makeTableSizeSelector()\nconst playerMoveSelector = makePlayerMoveSelector()\n\nexport const CombinationsContainer: FC = () => {\n  const combinations = useSelector(combinationsSelector)\n  const players = useSelector(playersSelector)\n  const isMoveAvailable = useSelector(isMoveAvailableSelector)\n  const [activePlayerId] = useSelector(playerMoveSelector)\n  const tableSize = useSelector(tableSizeSelector)\n\n  const large = tableSize === 'medium'\n\n  return (\n    <Table size={tableSize}>\n      <TableHeader />\n      <TableBody>\n        {combinations.map(({ name, title, combination }) => (\n          <TableRow key={name}>\n            <TableCellStyled firstColumn selected={isBonus(combination)} large={large}>\n              <Tooltip title={title} placement=\"top-start\" enterDelay={300} disableFocusListener>\n                <span>{name}</span>\n              </Tooltip>\n            </TableCellStyled>\n            {players.map(({ id: playerId }) => (\n              <TableCellStyled\n                key={playerId}\n                large={large}\n                selected={isBonus(combination)}\n                active={activePlayerId === playerId}\n                noPadding\n                centered\n              >\n                <CombinationConnected\n                  playerId={playerId}\n                  combination={combination}\n                  isMoveAvailable={isMoveAvailable}\n                />\n              </TableCellStyled>\n            ))}\n            <TableCellStyled\n              selected={isBonus(combination)}\n              large={large}\n              empty\n            />\n          </TableRow>\n        ))}\n      </TableBody>\n      <TableFooter />\n    </Table>\n  )\n}\n","import { createSelector } from 'reselect'\nimport { isMoveAvailableCombiner } from '../combiners/isMoveAvailableCombiner'\nimport { playerPoints } from '../pureSelectors/playerPoints'\nimport { playerMove } from '../pureSelectors/playerMove'\nimport { combinationsSelector } from '../reducers/combinations'\nimport { dicesSelector } from '../reducers/dices'\n\nexport const makeIsMoveAvailableSelector = () => createSelector(\n  combinationsSelector,\n  dicesSelector,\n  playerPoints,\n  playerMove,\n  isMoveAvailableCombiner,\n)\n","import React, { FC } from 'react'\nimport Dialog from '@material-ui/core/Dialog'\nimport makeStyles from '@material-ui/core/styles/makeStyles'\nimport { Theme } from '@material-ui/core'\n\nconst useStyles = makeStyles<Theme>(({\n  spacing,\n  palette: { background: { paper } },\n}) => ({\n  paper: {\n    padding: spacing(2),\n    backgroundColor: 'transparent',\n    boxShadow: 'none',\n    border: `1px solid ${paper}`,\n  },\n  root: {\n    background: 'rgba(0, 0, 0, .7)',\n  },\n}))\n\nexport const DialogStyled: FC = ({ children }) => {\n  const { paper, root } = useStyles()\n\n  return (\n    <Dialog open classes={{ root, paper }}>\n      {children}\n    </Dialog>\n  )\n}\n","import styled from '@material-ui/styles/styled'\nimport DialogContent from '@material-ui/core/DialogContent'\n\nexport const DialogContentStyled = styled(DialogContent)({\n  padding: 0,\n  marginBottom: 1,\n  display: 'flex',\n})\n","import styled from '@material-ui/styles/styled'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport { Themed } from '../../../helpers/types'\n\nexport const DialogTitleStyled = styled(DialogTitle)(({\n  theme: { shape: { borderRadius }, palette: { text: { hint }, background: { paper } } },\n}: Themed) => ({\n  textAlign: 'center',\n  color: hint,\n  backgroundColor: paper,\n  marginBottom: 1,\n  borderTopRightRadius: borderRadius,\n  borderTopLeftRadius: borderRadius,\n}))\n","import styled from '@material-ui/styles/styled'\nimport DialogActions from '@material-ui/core/DialogActions'\n\nexport const DialogActionsStyled = styled(DialogActions)({\n  justifyContent: 'space-around',\n})\n","import styled from '@material-ui/styles/styled'\nimport { Themed } from '../../../helpers/types'\n\nexport const DialogContentColumn = styled('div')(({\n  theme: { spacing },\n}: Themed) => ({\n  flex: 1,\n  textAlign: 'center',\n  minWidth: spacing(20),\n\n  marginLeft: 1,\n  '&:first-child': {\n    marginLeft: 0,\n  },\n}))\n","import styled from '@material-ui/styles/styled'\nimport { Themed } from '../../../helpers/types'\n\nexport const DialogContentNameRow = styled('div')(({\n  theme: {\n    spacing,\n    typography: { h6 },\n    palette: { background: { paper } },\n  },\n}: Themed) => ({\n  ...h6,\n  padding: spacing(2),\n  backgroundColor: paper,\n  marginBottom: 1,\n}))\n","import styled from '@material-ui/styles/styled'\nimport { Themed } from '../../../helpers/types'\n\nexport const DialogContentTotalRow = styled('div')(({\n  theme: {\n    spacing, typography: { h2 }, palette: { background: { paper } },\n  },\n}: Themed) => ({\n  ...h2,\n  padding: spacing(2, 0),\n  backgroundColor: paper,\n}))\n","import React, { FC } from 'react'\nimport { DialogContentColumn } from './parts/DialogContentColumn'\nimport { DialogContentNameRow } from './parts/DialogContentNameRow'\nimport { DialogContentTotalRow } from './parts/DialogContentTotalRow'\nimport { makePlayersSelector } from '../../redux/selectors/makePlayersSelector'\nimport { useSelector } from 'react-redux'\nimport { makeGetTotalsSelector } from '../../redux/selectors/makeGetTotalsSelector'\n\nconst playersSelector = makePlayersSelector()\nconst getTotalsSelector = makeGetTotalsSelector()\n\nexport const EndOfGameStats: FC = () => {\n  const players = useSelector(playersSelector)\n  const totals = useSelector(getTotalsSelector)\n\n  return (\n    <>\n      {players.map(({ id, name }) => (\n        <DialogContentColumn key={id}>\n          <DialogContentNameRow>\n            {name}\n          </DialogContentNameRow>\n          <DialogContentTotalRow>\n            {totals[id]}\n          </DialogContentTotalRow>\n        </DialogContentColumn>\n      ))}\n    </>\n  )\n}\n","import React, { FC } from 'react'\nimport Button from '@material-ui/core/Button'\nimport { i18n } from '../../../helpers/i18n/i18n'\nimport { restartGameThunk } from '../../../redux/actions/restartGameThunk'\nimport HomeIcon from '@material-ui/icons/Home'\nimport { useDispatchedCallback } from '../../../helpers/useDispatchedCallback'\n\nexport const GoHomeButton: FC = () => {\n  const onClick = useDispatchedCallback(restartGameThunk())\n\n  return (\n    <Button\n      variant=\"contained\"\n      color=\"default\"\n      startIcon={<HomeIcon />}\n      onClick={onClick}\n    >\n      {i18n('button.goHome')}\n    </Button>\n  )\n}\n","import styled from '@material-ui/styles/styled'\nimport { Themed } from '../../../helpers/types'\n\nexport const DialogTipStyled = styled('div')(({\n  theme: {\n    shape: { borderRadius }, spacing, typography: { subtitle2 },\n    palette: { background: { paper }, text: { hint } },\n  },\n}: Themed) => ({\n  ...subtitle2,\n  color: hint,\n  textAlign: 'center',\n  padding: spacing(1, 5),\n  borderBottomLeftRadius: borderRadius,\n  borderBottomRightRadius: borderRadius,\n  backgroundColor: paper,\n  marginBottom: spacing(2),\n}))\n","import { CombinationInfo } from '../reducers/combinations'\nimport { PlayerPoints } from '../reducers/playerPoints'\n\ntype IsEndOfGameCombiner = (combinations: CombinationInfo[], playerPoints: PlayerPoints) => boolean\n\nexport const isEndOfGameCombiner: IsEndOfGameCombiner = (\n  combinations,\n  playerPoints,\n) =>\n  // OH fcuk, this is cool\n  !(\n    Object.keys(combinations).length === Object.keys(\n      playerPoints[Object.keys(playerPoints)[Object.keys(playerPoints).length - 1]] || {},\n    ).length\n  ) // is hidden or not ;(\n","import { useSelector } from 'react-redux'\n\nimport { EndOfGame } from './EndOfGame'\nimport { visibilityHOC_2 } from '../../helpers/visibilityHOC'\nimport React, { FC } from 'react'\nimport { makeIsEndOfGameSelector } from '../../redux/selectors/makeIsEndOfGameSelector'\n\nconst EndOfGameWithHOC = visibilityHOC_2(EndOfGame)\nconst isEndOfGameSelector = makeIsEndOfGameSelector()\n\nexport const EndOfGameContainer: FC = () => {\n  const hidden = useSelector(isEndOfGameSelector)\n\n  return (\n    <EndOfGameWithHOC hidden={hidden} />\n  )\n}\n","import React, { FC } from 'react'\nimport { i18n } from '../../helpers/i18n/i18n'\nimport { DialogStyled } from './parts/DialogStyled'\nimport { DialogContentStyled } from './parts/DialogContentStyled'\nimport { DialogTitleStyled } from './parts/DialogTitleStyled'\nimport { DialogActionsStyled } from './parts/DialogActionsStyled'\nimport { EndOfGameStats } from './EndOfGameStats'\nimport { GoHomeButton } from './parts/GoHomeButton'\nimport { MAX_POSSIBLE_POINTS } from '../../redux/reducers/combinations'\nimport { DialogTipStyled } from './parts/DialogTipStyled'\n\nexport const EndOfGame: FC = () => (\n  <DialogStyled>\n    <DialogTitleStyled>\n      {i18n('gameOver')}\n    </DialogTitleStyled>\n    <DialogContentStyled>\n      <EndOfGameStats />\n    </DialogContentStyled>\n    <DialogTipStyled>\n      {i18n('maximumPossibleNumberOfPoints')}: {MAX_POSSIBLE_POINTS}\n    </DialogTipStyled>\n    <DialogActionsStyled>\n      <GoHomeButton />\n    </DialogActionsStyled>\n  </DialogStyled>\n)\n","import { createSelector } from 'reselect'\nimport { playerPoints } from '../pureSelectors/playerPoints'\nimport { isEndOfGameCombiner } from '../combiners/isEndOfGameCombiner'\nimport { combinationsSelector } from '../reducers/combinations'\n\nexport const makeIsEndOfGameSelector = () => createSelector(combinationsSelector, playerPoints, isEndOfGameCombiner)\n","import React, { FC } from 'react'\nimport { MainLayout } from '../MainLayout/MainLayout'\nimport { GamePhases } from '../../redux/reducers/gamePhase'\nimport { StartGameButton } from '../StartGameButton/StartGameButton'\nimport { PlayersSelection } from '../PlayersSelection/PlayersSelection'\nimport { DicesConnected } from '../Dices/DicesConnected'\nimport { DicesActions } from '../DicesActions/DicesActions'\nimport { Rules } from '../Rules/Rules'\nimport { StartGameButtonWrapper } from '../StartGameButton/StartGameButtonWrapper'\nimport { CombinationsContainer } from '../CombinationsContainer/CombinationsContainer'\nimport { EndOfGameContainer } from '../EndOfGame/EndOfGameContainer'\nimport { makeGamePhaseSelector } from '../../redux/selectors/makeGamePhaseSelector'\nimport { useSelector } from 'react-redux'\n\nconst gamePhaseSelector = makeGamePhaseSelector()\n\nexport const App: FC = () => {\n  const gamePhase = useSelector(gamePhaseSelector)\n\n  return (\n    <MainLayout>\n      {{\n        [GamePhases.PRE_GAME]: (\n          <>\n            <StartGameButtonWrapper>\n              <StartGameButton />\n            </StartGameButtonWrapper>\n            <Rules />\n          </>\n        ),\n        [GamePhases.PLAYERS_SELECTION]: (\n          <PlayersSelection />\n        ),\n        [GamePhases.IN_PLAY]: (\n          <>\n            <EndOfGameContainer />\n            <DicesConnected />\n            <DicesActions />\n            <CombinationsContainer />\n          </>\n        ),\n      }[gamePhase]}\n    </MainLayout>\n  )\n}\n","import 'typeface-roboto'\n\nimport React from 'react'\nimport { render } from 'react-dom'\nimport { Provider } from 'react-redux'\nimport * as serviceWorker from './serviceWorker'\nimport { store } from './redux/createStore'\nimport { themeProviderHOC } from './helpers/themeProviderHOC'\nimport { App } from './components/App/App'\n\nconst AppWithProvider = themeProviderHOC(App)\n\nrender(\n  <Provider store={store}>\n    <AppWithProvider />\n  </Provider>,\n  document.getElementById('root'),\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","import { PaletteType } from '@material-ui/core'\nimport { CommonColors } from '@material-ui/core/styles/createPalette'\nimport { CSSProperties } from 'react'\n\ndeclare module '@material-ui/core/styles/createMuiTheme' {\n\n  interface Theme {\n    /**\n     * Drawer\n     */\n    drawerTabsCount: number\n    drawerWidth: number // have to be used with theme.spacing()\n\n    /**\n     * Main layout\n     */\n    mainLayout: {\n      darkBackgroundColor: CSSProperties['color']\n      footerHeight: number\n      innerPadding: number\n      innerPaddingMobile: number\n    }\n\n    /**\n     * Combinations Table\n     */\n    combinationsTable: {\n      firstColumnWidth: number\n      columnWidth: number\n    }\n  }\n\n  interface ThemeOptions extends Partial<Theme> {\n  }\n}\n\nexport const myTheme = (theme: PaletteType, white: CommonColors['white']) => {\n  const mainDarkBGColor = '#333'\n\n  return {\n    drawerTabsCount: 4,\n    drawerWidth: 42,\n    mainLayout: {\n      darkBackgroundColor: mainDarkBGColor,\n      footerHeight: 10,\n      innerPadding: 5,\n      innerPaddingMobile: 2,\n    },\n    combinationsTable: {\n      firstColumnWidth: 165,\n      columnWidth: 170,\n    },\n    palette: {\n      type: theme,\n    },\n    transitions: {\n      duration: {\n        standard: 300,\n      },\n    },\n    overrides: {\n      MuiAppBar: {\n        colorPrimary: {\n          backgroundColor: theme === 'dark' ? mainDarkBGColor : white,\n        },\n      },\n    },\n  }\n}\n"],"sourceRoot":""}